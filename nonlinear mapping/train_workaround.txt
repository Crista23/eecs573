software should ensure that the vmcs and referenced data structures are located at physical addresses that are mapped to wb memory type by the mtrrs
software should not write to a pagingstructure entry in a way that would change for any linear address both the page size and the memory type it can instead use the following algorithm first clear the p flag in the relevant pagingstructure entry eg pde then invalidate any translations for the affected linear addresses and then modify the relevant pagingstructure entry to set the p flag and establish the new page size and memory type
software should always set the vvvv field of the vex prefix to 1111b for instances of the vaesimc and vaeskeygenassist instructions
none identified
a virtualmachine monitor should not allow guest software to write to the ia32_misc_enable msr
ensure that the smram statesave area is located entirely below the 4gb address boundary
none identified
none identified
avoid following a mov ss or pop ss instruction immediately with an xbegin instruction
software should use the opcode bytes f3 0f bc only if cpuideax07h ecx0ebxbmi1 bit 3 is 1 and only if the functionality of tzcnt and not bsf is desired
none identified
none identified if smsw execution inside an enclave is unacceptable system software should not enable sgx
none identified
the intel pt trace decoder can compare direct unconditional branch targets in the source with the filteren address ranges to determine which branch cleared filteren
do not use a 66h instruction prefix with a 64bit operand movbe instruction
software should not use fxsave or fxrstor with the vex prefix
none identified
none identified
software should avoid using wrmsr instruction immediately after executing mov ss or pop ss
none identified
decoders should ignore fup and modeexec packets that are not between tippge and tippgd packets
none identified intel pt topa should reside in wb memory and should not be written within a transactional region
the intel pt trace decoder may opt to ignore any fup whose ip matches that of a vm entry instruction
none identified
when executing the encluegetkey instruction software should ensure the bits set in keyrequestmiscmask are a subset of the bits set in the current secss miscselect field
none identified
when executing the encluereport instruction software should ensure the bits set in targetinfomiscselect are a subset of the bits set in the current secss miscselect field
software should not configure vmx transitions to load nonexistent msrs
none identified 64bit software should save x87 fpu state before leaving 64bit mode if it needs to access the fdp andor fip values
when it encounters an ovf without a following fup or tippge the intel pt trace decoder should scan for the next tip tippge or psb to resume operation
system software should always specify a canonical address as the base address of the 64bit mode enclave
none identified instead of marking a context not present software should mark the context or extendedcontext entry present while using the page table to indicate all the memory pages referenced by the context entry is not present
none identified
none identified
when executing the enclseinit instruction software should only set bits in the miscselect field in the sigstruct structure that are enumerated as 1 by cpuideax12hecx0ebx the bit vector of extended features that can be written to the misc region of the ssa
none identified
none identified
if supervisor software is not expected to execute instructions on usermode pages software can avoid this erratum by setting cr4smepbit 20 to enable supervisor mode execution prevention smep if smep is not available or if supervisor software is expected to execute instructions on usermode pages no workaround is identified
none identified
it is possible for the bios to contain a workaround
none identified the decoder may be able to recognize that this erratum has occurred when a twobyte cyc packet is followed by a single byte cyc where the latter 2 bytes are 0xf302 and where the cyc packets are followed by a fup flow update packet and a psb packet stream boundary it should then treat the two cyc packets as indicating an overflow
none identified software may use the following offcore_requests modelspecific sub events that provide related performance monitoring data  demand_data_rd demand_code_rd demand_rfo all_data_rd l3_miss_demand_data_rd all_requests
software should ensure that all pages containing enclave instructions have valid epcm entries
none identified
a vmm avoids this erratum if it does not map any part of the epc enclave page cache to the guests apicaccess address an operating system avoids this erratum if it does not attempt indirect enclave accesses to the apic
none identified
none identified software should use the fdp value saved by the listed instructions only when the most recent noncontrol x87 instruction incurred an unmasked exception
none identified platforms should limit peci operating frequency to 1 mhz
none identified software may mask the fault reporting event by setting the im interrupt mask field in the iommu fault event control register offset 038h in gfxvtbar
none identified software should not use value of 13 for cyc threshold
none identified
intel graphics driver 1540114312 or later will prevent the integrated audio codec from losing power when lpsp mode is enabled
intel graphics driver version 1540124326 or later contains a workaround for this erratum
none identified
none identified
none identified
none identified
none identified software may use the following modelspecific events that provide related performance monitoring data offcore_requests all subevents l2_transl2_wb and l2_rqstspf_miss
none identified
before using the eblock instruction to marking a page as blocked software should use paging to mark the page not present
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
software should always prevent faults on pebs or bts
pmi handler software can programmatically stop performance monitoring counters upon entry
none identified
clearing the guaranteed_performance_change status bit no more than once per second will ensure that interrupts are not generated at too fast a rate
none identified
software should configure hwp consistently on all logical processors of a core
the camera device must disable legacy intx by setting bit 10 of pcicmd bus 0 device 5 function 0 offset 04h before msi is enabled
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for bios to contain processor configuration data and code changes as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
software should use canonical addresses for bound directory accesses
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
data from the affected machine check registers should be read and the registers initialized as soon as practical after a warm reset
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified software should not attempt to write illegal values to this msr
software can monitor gp faults to detect that an enclave has been destroyed and needs to be rebuilt after resuming from s3 or s4
ensure that bits 115 of the value written to ia32_rtit_cr3_match are zero including cases where the selected pagedirectorypointertable base address has nonzero bits in this range
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
none identified software should ignore the shared 2ndlevel tlb associativity information reported by cpuid for the affected processors
it is possible for the bios to contain a workaround for this erratum
none identified use a single vendor for 2400 mhz udimms
use a single vendor for and do not mix single rank and dual rank 2133 mhz ddr4 sodimm
a bios workaround has been identified
it is possible for bios to contain processor configuration data and code changes as a workaround for this erratum additionally an updated intel graphics driver may be needed for this workaround
none identified
none identified for a particular workload changing the memory buffer size or disabling deep compression may eliminate the microarchitectural condition that causes the erratum
power the soc on before connecting to its usb port alternatively manually disconnecting and reconnecting the usb cable restores operation after the erratum has occurred
for dual link panels with overlap choose the overlap so that onehalf the horizontal resolution plus the overlapping pixels is evenly divisible by 4 for single link panels the horizontal resolution must be evenly divisible by 4
none identified
select a video mode that does not use an affected pixel frequency statusfor the steppings affected see the summary table of changes
none identified
do not use stick parity mode of uart
the software driver should set pmctrl28 bus 0 device 14 function 0 offset 80a4h after the xhci controller enters d0 state following an exit from d3 state
there are no known issues with enabling ssc on pcie interface that operates at gen 1 speed however if ssc is enabled while pcie interface is running at gen 2 speed system refclk will experience jitter would not meet pcie specifications
software should set the uhs_mode field bits 1816 of the cmd12_err_stat_host_ctrl_2 csr before setting the preset_value bit to reach the maximum transfer rate
none identified
none identified
in order to avoid this erratum programmers should use the xmc synchronization algorithm as detailed in the intel architecture software developers manual volume 3 system programming guide section handling self and crossmodifying code
software should ensure that the vmcs and referenced data structures are located at physical addresses that are mapped to wb memory type by the mtrrs
software should not set bit 7 in any pml4e or pdpte that has present bit bit 0 set to 1
reenabling the pmcs in ia32_perf_global_ctrl will log the overflows that were not previously logged in ia32_perf_global_status
when a vmm emulates a branch instruction it should inject a general protection exception if the instructions target eip is beyond the cs limit
none identified
software that requires a locked instruction to fence subsequent executions of movntdqa should insert an lfence instruction before the first execution of movntdqa following the locked instruction if there is already a fencing or serializing instruction between the locked instruction and the movntdqa then an additional lfence is not necessary
none identified
none identified
a virtualmachine monitor should not allow guest software to write to the ia32_misc_enable msr
none identified
software driver can be modified to workaround this erratum statusfor the steppings affected see the summary table of changes
none identified
none identified
the rtit trace decoder can identify a fupfar in the middle of a far transfer instruction and treat that fupfar as if it was coming from the first byte of the following sequential instruction
the rtit trace decoder should ignore any fuptip packet that immediately follows a fupbuffovf whose ip matches the ip payload of the fupbuffovf
as a partial workaround the trace decoder should add 1 to the payload value of any cyc packet with a nonzero payload
the rtit trace decoder should ignore the first mtc that follows trace enabling statusfor the steppings affected see the summary table of changes
none identified
it is possible for the display driver to contain a workaround for this erratum statusfor the steppings affected see the summary table of changes
none identified
none identified
software should set the uhs_mode field bits 1816 of the cmd12_err_stat_host_ctrl_2 csr before setting the preset_value bit to reach the maximum transfer rate
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified software can clear nsc nmi status and control msr bus 0 device 31 function 0 offset 61h sne field to disable serr for both nmi and lpc
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for bios to contain a workaround for this erratum statusfor the steppings affected see the summary table of changes
firmware code changes for lpc and rtc circuitry and mitigations for sd card circuitry have been identified and may be implemented for this erratum
software must not access xhci configuration space within 1ms or set hcrst bit within 120ms of setting the hcrst bit
it is possible for the firmware to contain a workaround for this erratum statusfor the steppings affected see the summary table of changes
none identified
if the handler of the affected events inspects the arithmetic portion of the saved eflags value then system software should perform a synchronized paging structure modification and tlb invalidation
none identified
none identified
do not execute monitor or clflush instructions on the local xapic address space
none identified
none identified
none identified
none identified
software should ensure pages are not being actively used before requesting their memory type be changed
the sampling driver should avoid using sav100
algorithms that rely on cache disabling should not be executed in vmx root operation
software should always set the vvvv field of the vex prefix to 1111b for instances of the vaesimc and vaeskeygenassist instructions
none identified
software that uses the localapic timer must be prepared to handle the timer interrupts even those that would not be expected based on reading ccr and the lvt and irr bits alternatively software can avoid the problem by writing zero to the initial count register before reading the lvt and irr bits
none identified
none identified
none identified
none identified
none identified
none identified
software should ensure that the vexl bit is set to 0 for all scalar instructions
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
software should be written to handle spurious vtd fault interrupts
none identified
none identified
none identified 
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
none identified
ensure that the smram statesave area is located entirely below the 4gb address boundary
none identified if the pmi is programmed to generate an nmi software may delay the eoi endof interrupt register write for the interrupt until after the overflow indications have been cleared
software should not use fxsave or fxrstor with the vex prefix
none identified
none identified
a virtual machine monitor should not allow guest software to write to the ia32_misc_enable msr
none identified
software should use the opcode bytes f3 0f bc only if cpuideax07h ecx0
software must not perform a second root table pointer update before doing a global invalidation of either the contextcache or the iotlb
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
initialize or reset the counters such that lower 6 bits are 0
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for bios to contain a workaround for this erratum
the processor inserts these packets as status packets in the psb block the decoder may have to skip forward to the next psb block in the trace to obtain the proper updated information to continue decoding
none identified
none identified
it is possible for bios to contain a workaround for this erratum
if software enables intel pt in systemmanagement mode it should disable intel pt before executing rsm
it is possible for bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
decoders should ignore fup and modeexec packets that are not between tippge and tippgd packets
software should avoid writing nonzero values to bits 63 ia32_rtit_cr3_match msr
it is possible for bios to contain a workaround for this erratum
it is possible for bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
avoid  following  a  mov  ss  or  pop  ss  instruction  immediately  with  an  xbegin instruction
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
do not use a 66h instruction prefix with a 64bit operand movbe instruction
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for bios to contain processor configuration data and code changes as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for bios to contain processor a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this problem
software should not enter a guest with enable vpid set to 1 when activate secondary controls is set to 0
none identified software can execute an mfence instruction immediately prior to the iret instruction if serialization is needed
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified software may mask the fault reporting event by setting the im interrupt mask field in the iommu fault event control register offset 038h in gfxvtbar
none identified instead of marking a context not present software should mark the context or extendedcontext entry present while using the page table to indicate all the memory pages referenced by the context entry is not present
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum a software workaround is possible through disallowing pebs during vmx nonroot operation and disabling pebs prior to vm entry
none identified
none identified software that relies on a locked instruction to fence subsequent executions of vmovntdqa should insert an mfence instruction between the locked instruction and subsequent vmovntdqa instruction
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
software should always prevent faults on pebs or bts
none identified
none identified
none identified
none identified
before writing msr _lastbranch_x_from_ip ensure the value being written has bit47 replicated in bits62
as recommended in the ia32 intel architecture software developers manual the use of mov sspop ss in conjunction with mov resp rebp will avoid the failure since the mov resp rebp will not generate a floating point exception developers of debug tools should be aware of the potential incorrect debug event signaling created by this erratum
none identified
none identified
software should ensure pages are not being actively used before requesting their memory type be changed
none identified
none identified
none identified
if the handler of the affected events inspects the arithmetic portion of the saved eflags value then system software should perform a synchronized paging structure modification and tlb invalidation
none identified
none identified
none identified
none identified
none identified
the smm handler has to evaluate the saved context to determine if the smi was triggered by an instruction that read from an io port the smm handler must not restart an io instruction if the platform has not been configured to generate a synchronous smi for the recorded io port address
none identified
none identified
none identified
in general operating systems do not set the gd bit when they are in v86 mode the gd bit is generally set and used by debuggers the debug exception handler should check that the exception did not occur in v86 mode before continuing if the exception did occur in v86 mode the exception may be directed to the generalprotection exception handler
none identified
software should ensure that the vmcs and referenced data structures are located at physical addresses that are mapped to wb memory type by the mtrrs
none identified
none identified
none identified
none identified
sw should not use vphminposuw with vexvvvv  1111 in order to ensure future compatibility
software should avoid accessing unsupported fields in a vmcs
compilers should encode vexw  0 for the vzeroall and vzeroupper instructions
software should not use opcode 9bh with the vex opcode extension
system software can be constructed to tolerate these unexpected page faults see section propagation of pagingstructure changes to multiple processors of volume 3a of ia32 intel architecture software developers manual for recommendations for software treatment of asynchronous pagingstructure updates
software should not use fxsave or fxrstor with the vex prefix
software should encode vexw  0 for executions of the vpextrd and vpinsrd instructions outside 64bit mode
none identified
software may avoid this erratum by writing zeros to the ia32_fixed_ctr1 msr before the desired write operation
none identified
if poisoning is disabled program the following bits to 0 after reset if poisoning is enabled program the following bits to 1 after reset the ia32_mcg_containpoison_enable bit msr 178h bit 0 it should be noted that each thread must perform this action the ia32_mcg_containpoison_enable msr 178h bit 0 the poisfen bit iiomiscctrl cpubus0 device 5 function 0 offset 1c0h bit 37 the dmask bit uncedmask cpubus0 device 0 1 2 3 functions 0 1 2 3 offset 218h bit 12
it is possible for the bios to contain a workaround for this erratum
software that uses the localapic timer must be prepared to handle the timer interrupts even those that would not be expected based on reading ccr and the lvt and irr bits alternatively software can avoid the problem by writing zero to the initial count register before reading the lvt and irr bits
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
case 1 case 11 legacy processor gets disabled the system will not boot the bmc can detect this case by observing that legacy socket is occupied but the processor times out on peci ping command since bmc knows it did not disable legacy socket it can assume this is an error case case 12 nonlegacy processor gets disabled if system boots with one or more fewer sockets bmc will observe a discrepancy between socket occupied pins and response to peci ping command if bmc did not disable the affected socket it can conclude they were accidentally disabled due to this issue the bmc can respond to either case by issuing a cold reset to the platform case 2 systems without a bmc case 21 legacy socket gets disabled this will prevent booting the pch platform control hub tco logic can be strapped to reset the platform if the cpu does not fetch code after reset case 22 nonlegacy socket gets disabled bios cannot read socket occupied pin from other socket therefore bios cannot tell the difference between a tristated socket and unpopulated socket enable autoack in the intel qpi interface enumeration which will ensure that a warm reset asserted before the intel quick path interconnect enumeration will be converted into a powercycle reset
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
none identified
none identified
the crc mode bits in the qpilcl devices 8 9 function 0 offset 44h bits15 should be left at their reset value of 00b to ensure 8bit crc is selected
peci 30 host devices should zero out the byte that contains the host id and retry bit information for all peci requests at all times including retries
none identified
is possible for the bios to contain a workaround for this erratum a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
it is possible for bios to contain a workaround for this issue it should be noted that with this workaround if the threshold is programmed to a value of 0 a read of the value will return 1 and the threshold will be 1 all other valid threshold values for the bank will be read back correctly and function as expected
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified software can avoid this erratum by setting corrected error threshold to a value less than 3fffh enable cmci and clearing the error count before it exceeds 3fffh
system software can be constructed to tolerate these unexpected page faults see section propagation of pagingstructure changes to multiple processors of volume 3a of ia32 intel architecture software developers manual for recommendations for software treatment of asynchronous pagingstructure updates
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
if using dma xor operations disable dca by clearing chanctrl completion_write _dca_enable offset 80h bit 9 in the region described by cb_bar device 10 function 07 0ffset 80h
in the dma driver each dma xor descriptor must be followed by an additional legacy descriptor the legacy descriptor must have a nonzero transfer length and the null transfer bit and completion interrupt in the descriptor control field set to 1 the transfer will not actually occur but a completion interrupt will be generated that indicates that the xor operation has completed this causes all completion interrupts to be of the legacy type
at all times software must place a validaligned address in both the p parity address field and the q parity address field of a dma xor with galois field generatevalidate base descriptor even if the p operations disable or q operations disable descriptor fields are set to disable either p or q operations for the descriptor
none identified
software must quiesce the dma function before issuing flr including ensure clients are no longer referencing the driver ensure all outstanding descriptors have completed via the normal completion writeback notifications by reading chancmp chansts and dmacount issue flr and ensure no new dma transactions are started until flr has completed chancmp offset 98h and chansts offset 88h and dmacount offset 86h are offsets relative to cb_bar on the processors internal io bus as defined in the iiobusno register
software may either use a single dma channel for both legacy and xor operation types both up to the maximum 1mb transfer size use multiple dma channels where xor operation types are  8 kb transfer size and legacy operation types are up to 1 mb transfer size
at least one xor descriptor with no read data errors has to be processed for a new chain of xor descriptors to work correctly with the corresponding chanerrmsk offset ach bit 8 bit set upon detection of a read data error software must clear the chanerr and chanerr_int device 4 function 07 offset 180h registers and disable  the  corresponding  error  mask  bit  by  setting  chanerrmsk  then  new descriptors can be added to the chain and the dma started by writing the dmacount offset 86h once the dma channel is in the running state software can clear the chanerrmsk  chanerr  chanerrmsk  and  dmacount  are  offsets  relative  to cb_bar device 4 function 07 0ffset 10h on the processors internal io bus as defined in the iiobusno register
software must guarantee that the first descriptor processed on restart is an xor gf multiply generation base type before using legacy descriptors with interrupts and completions
software must either only use only legacy interrupts and completions on all channels use only dma channels 0 and 1 where  only dma xor interruptscompletions are enabled on channel 0 and is only used for dma xor operations  only legacy interruptscompletions are enabled on channel 1 and is only used for dma legacy operations
software must suspend all legacy dma channels before suspending an active dma xor channel channel 0 or 1
do  not  enable  fencing  on  xor  descriptors  fencing  can  be  enabled  on  legacy descriptors it is recommended that a null legacy descriptor must be paired with each xor descriptor software can use fencing of the legacy null descriptor to track full completion of its associated xor descriptor
none identified
none identified
none identified
software should always set the vvvv field of the vex prefix to 1111b for instances of the vaesimc and vaeskeygenassist instructions
it is possible for the bios to contain a workaround for this erratum
software can disable all breakpoints by clearing dr7 alternatively software can ensure that for a breakpoint disabled in dr7 the corresponding debugaddress register contains an address that prevents the breakpoint condition from being met for example a noncanonical address
none identified
processor thermal management solutions utilizing peci should operate platform fans at full speed during the peci dnr phase
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
in ntbntb backtoback mode do not use the b2bdoorbell to send interrupts from the local to remote host instead configure one of the following local register pairs to point to the remote sb01base region pb23base device 3 function 0 offset 18h and pbar2xlat offset 10h from pb01base or sb01base regions pb45base device 3 function 0 offset 20h and pbar4xlat offset 18h from pb01base or sb01base regions the local host may then write directly to the pdoorbell offset 60h from the pb23basepb45base region defined above in ntbrp bridge to root port mode the sdoorbell register cannot be used by the processor on the primary side of the ntb to interrupt the processor on the secondary side instead dedicate a bar and xlat pair either pb23basepbar2xlat or pb45basepbar4xlat to generate an interrupt directed directly into the msimsix message signaled interrupt interrupt range on the remote processor the device driver or client on the remote host must point the appropriate pbarnxlat register to its msimsix interrupt range the processor on the primary side can then write the msimsix interrupt to the dedicated bar which will be translated by the ntb to the msimsix region of the secondary sides processor
software should not program another pebs event in conjunction with the pdir mechanism
it is possible for the bios to contain a workaround for this erratum
avoid the contributing conditions this can be accomplished by separating traffic types to be conveyed on different links andor reducing or eliminating long latency transactions
mask off the c2 c3 da and db error flags bit 3 bit 4 bit 13 and bit 14 of the irpp0errctl and irpp1errctl registers at cpubus0 device 5 function 2 offsets 234h and 2b4h respectively
none identified
none identified
none identified
patrol scrub should not be enabled when more than one channel has suffered a rank sparing event this can be accomplished during the bios initialization phase by either not enabling the patrol scrub feature not enabling the rank sparing feature alternatively during run time one of the following can be implemented  patrol scrub can be disabled when the second rank sparing event occurs  disallowing any rank sparing event after the first one please refer to the latest version of the bios specification update and release notes
it is possible for the bios to contain a workaround for this erratum
none identified
software must either ensure xor dma descriptors only point to cacheline aligned sources best performance or a legacy dma copy must be used prior to noncacheline aligned dma operations to guarantee that the source misalignment is on dword15 of the cacheline the required source that must be misaligned to dword15 depends on the following desired subsequent dma xor operations  dma xor validate raid5 ponly the psource must be misaligned to dword15 last dword  dma xor validate raid6pq the qsource must be misaligned to dword15 last dword  dma xor generate or update the last source which will be different based on numblk must be misaligned to dword15 last dword
a bios code change has been identified and may be implemented as a workaround for this erratum
acpi or other software must have a timeout to proceed with the power management event and should not wait indefinitely for the ntb to acknowledge the pme_turn_off request
it is possible for the bios to contain a workaround for this erratum
peci hosts should retry timedout commands until they complete successfully by reissuing a peci command sequence identical to the originally timedout command
the sampling driver should avoid using sav100
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
the extraneous characters may be ignored or removed by software
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain processor configuration data and code changes as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
stm software should execute the xrstor instruction with the value 0 in edx
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
the link speed and training must be managed by the upstream host in ntbntb or ntbrp configurations
upstream slot power limit message should be disabled in the identified configurations
a bios code change has been identified and may be implemented as a workaround for this erratum
software should ignore the value of the link_bandwidth_notification_capability field for ports 2c 2d 3c and 3d
a bios code change has been identified and may be implemented as a workaround for this erratum this is a partial workaround that causes the system to power cycle eliminating the need for manual power on the ia32_mci_status register contents are still lost
when configuring devices on pcipcix buses bios should wait for configuration cycles to complete before issuing subsequent configuration cycles
software that performs enumeration via the peci rdpciconfiglocal command should interpret 0ffff_ffffh and 0000_0000h values for the vendor identification and device identification register as indicating a nonexistent device
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
next sourcedestination addresses must be page aligned the intelprovided intel quickdata technology dma driver abides by this alignment rule
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
it is possible for bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified when rol transactions and nonrol transactions are simultaneously active all nonrol address offsets must be aligned on cacheline boundaries further marker  skipping  operations  may  not  be  used  on  any  dma  channel  when  rol transactions are active
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified perform a secondary bus reset on the link up to three times to achieve full width
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified the os can mask these interrupts by setting the power limit interrupt enable field bit 24 in the ia32_therm_interrupt msr 19bh to 0
a bios code change has been identified and may be implemented as a workaround for this erratum
once  the  first  nonzero  value  is  detected  the  difference  between  subsequent sequential values is a reliable measure of energy consumed between the sample points
none identified software running on one of the cores can clear the ia32_mc4_status register to restore peci functionality
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
check the dma_trans_state chansts_0 bus 0 mmio bar 88h bits20 to ensure the channel state is either idle 001b or active 000b before setting susp_dma chancmd bus 0 mmio bar cb_bar 07 offset 84h bit 2
it is possible for the bios to contain a workaround for this erratum
software must suspend all legacy dma channels before suspending an active dma xor channel channel 0 or 1
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
ensure all raid descriptors chancmp_0 and chancmp_1 addresses are within the 48bit range before starting the dma engine
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
none identified
none identified
it is possible for bios to contain a workaround for this erratum
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
software should ensure that the vexl bit is set to 0 for all scalar instructions
none identified the system agent temperature is available via peci rdpkgconfig command service parameter value 00ffh
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified to avoid this erratum any master aborts errors 2 do not request fencing by asserting bit 4 or interrupt on completion by asserting bit 0 in the descriptor control field or 3 do not use raid operations
none identified
software should avoid locating paging structures at addresses in uncacheable memory that are used for memorymapped io
none identified do not use floatingpoint stores to modify code
none identified
none identified
none identified
none identified
none identified
none identified
software that has executed in 64bit mode should reload cr3 with a 32bit value before returning to 32bit paging
software requiring the page offset of the original memory access address can derive it by simulating the effective address computation of the instruction that caused the ept violation
it is possible for the bios to contain a workaround for this erratum
none identified
a virtualmachine monitor should not allow guest software to write to the ia32_misc_enable msr
none identified
if port 3a is configured as an ntb then devices requiring eoi messages those using message signaled interrupts and those with their own io apic must not be connected to port 2a
none identified
none identified
none identified
none identified
none identified
none identified software that relies on a locked instruction to fence subsequent executions of vmovntdqa should insert an mfence instruction between the locked instruction and subsequent vmovntdqa instruction
do not run the intel ibist in slow mode
bios will need to perform the necessary computations to determine the proper parameters and program them into the processor
software needs to program the same loop count into the master and the slave
stopreq2 and startreq1 messages should not be considered optional by quiesce master and must be sent to the processor as part of any lock flow
none identified
it is possible for the bios to contain a workaround for this erratum
disable sddc1b ecc correction by setting the register field m_pcsr_ecc_corr_ctlen_sgl_on_kill  0 device0x05 function0x4 offset0xb8 bit 6 so that every singlebit error to a rank with sddc will become an uncorrectable error
it is possible for the bios to contain a workaround for this erratum
none identified
a bios workaround has been identified please refer to the latest version of the memory reference code
none identified performing patrol scrub through memory no more than once in 12 hours can minimize the occurrence of this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
a bios workaround has been identified please refer to the latest version of the memory reference code
it is possible for the bios to contain a workaround for this erratum
none identified
there are two potential workarounds
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
do not execute monitor or clflush instructions on the local xapic address space
none identified
none identified
software should avoid crossing page boundaries from wb or wc memory type to uc wp or wt memory type within a single rep movs or rep stos instruction that will execute with fast strings enabled
none identified
none identified
code which performs loads from memory that has sideeffects can effectively workaround this behavior by using simple integerbased load instructions when accessing sideeffect memory and by ensuring that all code is written such that a code segment limit violation cannot occur as a part of reading from sideeffect memory
in general operating systems do not set the gd bit when they are in v86 mode the gd bit is generally set and used by debuggers the debug exception handler should check that the exception did not occur in v86 mode before continuing if the exception did occur in v86 mode the exception may be directed to the generalprotection exception handler
none identified
none identified
none identified
software should not generate misaligned stack frames for use with iret
none identified
software should ensure that memory accesses in 32bit mode do not occur above the 4g limit 0ffffffffh
none identified
software should never write to the address range armed by the monitor instruction between the monitor and the subsequent mwait
none identified
none identified
none identified
as recommended in the intel 64 and ia32 intel architectures software developers manual the use of mov sspop ss in conjunction with mov resp rebp will avoid the failure since the mov resp rebp will not generate a floating point exception developers of debug tools should be aware of the potential incorrect debug event signaling created by this erratum
none identified
none identified
software should not disable thermal monitor during processor operation
none identified
any vector programmed into an lvt entry must have an isr associated with it even if that vector was programmed as masked this isr routine must do an eoi to clear any unexpected interrupts that may occur the isr associated with the spurious vector does not generate an eoi therefore the spurious vector should not be used when writing the lvt
none identified
none identified
none identified
none identified
none identified
software should ensure that the vmcs and referenced data structures are located at physical addresses that are mapped to wb memory type by the mtrrs
software that requires a locked instruction to fence subsequent executions of movntdqa should insert an lfence instruction before the first execution of movntdqa following the locked instruction if there is already a fencing or serializing instruction between the locked instruction and the movntdqa then an additional lfence is not necessary
software should ensure pages are not being actively used before requesting their memory type be changed
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
none identified
none identified
none identified
use destination shorthand of 10b or 11b to send broadcast ipis
software handling a fault on an execution of fxrstor can compensate for execution variability by correcting the cause of the fault and executing fxrstor again
before programming the performance event select registers ia32_perfevtselx msr 186h  189h the internal monitoring hardware must be cleared this is accomplished by first disabling saving valid events and clearing from the select registers then programming three event values 0x4300d2 0x4300b1 and 0x4300b5 into the ia32_perfevtselx msrs and finally continuing with new event programming and restoring previous programming if necessary each performance counter ia32_pmcx must have its corresponding ia32_prefevtselx msr programmed with at least one of the event values and must be enabled in ia32_perf_global_ctrl msr 38fh bits 30 all three values must be written to either the same or different ia32_perfevtselx msrs before programming the performance counters note that the performance counter will not increment when its ia32_perfevtselx msr has a value of 0x4300d2 0x4300b1 or 0x4300b5 because those values have a zero umask field bits 158
none identified
if the handler of the affected events inspects the arithmetic portion of the saved eflags value then system software should perform a synchronized paging structure modification and tlb invalidation
none identified
none identified
none identified
software should not update the paging structures with a string instruction that accesses pages mapped the modified paging structures
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
none identified
virtual machine monitor software may decode the instruction to determine operand size
none identified
none identified
ensure that the processor has completed its poweron reset cycle prior to initiating a second reset
workarounds have been identified for the polled and pmi usage models
there are two potential workarounds
it is possible for the bios to contain a workaround for this erratum
do not disable physical layer ports or if they have been disabled then reenable them such that ports that may generate ras recoverable errors have paths to send their error signals to the system configuration controller
none identified
a vm monitor that wants the fixedfunction performance counters to be enabled after a vm exit may do one of two things 1 clear the load ia32_perf_global_ctrl vm exit control or 2 include an entry for the ia32_perf_global_ctrl msr in the vm exit msrload list
a platform update and bios code change has been identified and may be implemented as a workaround for this erratum
none identified
information about the unused quadrants is available in the reutphlms device 0x14 function 0x0 offset 0x8c register
code pages should not be mapped with uncacheable and cacheable memory types at the same time
software should ensure this event is only enabled while in ept mode
it is possible for the bios to contain a workaround for this erratum this workaround adds a peci get_uncore_temp command to allow software to read the uncore temperature in order to make the comparison core vs uncore to determine the highest temperature in the processor
none identified
software should check the isr register and if any interrupts are in service only enter c1
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented to fix this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
software may avoid this erratum by clearing the perfmon counter value prior to disabling it and then clearing the overflow status indication bit
system software can be constructed to tolerate these unexpected page faults see section propagation of pagingstructure changes to multiple processors of volume 3a of ia32 intel architecture software developers manual for recommendations for software treatment of asynchronous pagingstructure updates
drift buffer alarms should be ignored pr0
none identified
none identified
none identified
software should always set the use tpr shadow vmexecution control to 1 whenever it sets that virtualize x2apic mode vmexecution control to 1
do not enable dcu 16kb mode in a system that uses ept
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
smm handlers may get false io_smi indicationthe smm handler has to evaluate the saved context to determine if the smi was triggered by an instruction that read from an io port the smm handler must not restart an io instruction if the platform has not been configured to generate a synchronous smi for the recorded io port address
it is possible for the bios to contain a workaround for this erratum
software should not write an illegal vector to the ia32_x2apic_self_ipi msr while the local apic is in x2apic mode virtualmachine monitors should not allow guest software to write to the ia32_x2apic_self_ipi msr
software can avoid this by doing the following
before performing a vm entry to the shutdown state software should check whether the virtual nmis and nmiwindow exiting vmexecution controls are both 1 if they are software should clear nmiwindow exiting and inject an nmi as part of vm entry
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
software that has executed in 64bit mode should reload cr3 with a 32bit value before returning to 32bit paging
software requiring the page offset of the original memory access address can derive it by simulating the effective address computation of the instruction that caused the ept violation
ensure that the smram statesave area is located entirely below the 4gb address boundary
it is possible for the bios to contain a workaround for this erratum
a virtualmachine monitor should not allow guest software to write to the ia32_misc_enable msr
none identified
none identified
software should avoid crossing page boundaries from wb or wc memory type to uc wp or wt memory type within a single rep movs or rep stos instruction that will execute with fast strings enabled
the smm handler has to evaluate the saved context to determine if the smi was
none identified
software should not generate misaligned stack frames for use with iret
none identified
none identified
none identified
if the handler of the affected events inspects the arithmetic portion of the saved eflags value then system software should perform a synchronized paging structure modification and tlb invalidation
software should not execute a floating point instruction directly after a mov ss or pop ss instruction
none identified
none identified
none identified
none identified
do not execute monitor or clflush instructions on the local xapic address space
none identified
none identified
none identified
none identified
none identified
software should ensure pages are not being actively used before requesting their memory type be changed
software should ensure that the vmcs and referenced data structures are located at physical addresses that are mapped to wb memory type by the mtrrs
none identified
none identified
if the fp data operand pointer is used in a 64bit operating system which may run code accessing 32bit addresses care must be taken to ensure that no 80bit fp accesses are wrapped around a 4gbyte boundary
software should avoid accessing unsupported fields in a vmcs
none identified

none identified upstream transaction initiators should avoid issuing unsupported requests with 4 dw header formats
none identified
none identified
none identified
software may avoid this erratum by writing zeros to the ia32_fixed_ctr1 msr
none identified
software may avoid this erratum by clearing the perfmon counter value prior to disabling it and then clearing the overflow status indication bit
none identified
software that uses the localapic timer must be prepared to handle the timer interrupts even those that would not be expected based on reading ccr and the lvt and irr bits alternatively software can avoid the problem by writing zero to the initial count register before reading the lvt and irr bits
it is possible for the bios to contain a workaround for this erratum
disable the freeze_perfmon_on_pmi feature in ia32_debugctl msr 1d9h bit 12
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for software to initiate a directed speed change
none identified
it is possible for the bios to contain a workaround for this erratum
software whose correctness depends on value saved for eflagsrf by delivery of the affected interrupts can disable faststring operation by clearing faststring enable in bit 0 in the ia32_misc_enable msr 1a0h
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
pcie endpoints should avoid configuring more than one of pcie controllers as loopback slave
it is possible for the bios to contain a workaround for this erratum to report rdrand as present via cpuid and allow proper execution of rdrand
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
vmms should ensure that all processor graphics device interactions conform to guidance published in the intel open source hd graphics programmers reference manual and driver writers guide
the smm handler has to evaluate the saved context to determine if the smi was triggered by an instruction that read from an io port the smm handler must not restart an io instruction if the platform has not been configured to generate a synchronous smi for the recorded io port address
endpoints must ensure that upconfiguration requests do not request a link width wider than that negotiated during initial link training
none identified
none identified
none identified
none identified
none identified
none identified upstream transaction initiators should avoid issuing unsupported requests with 4 dw header formats
a bios code change has been identified and may be implemented as a workaround for this erratum 
none identified
software should always set the vvvv field of the vex prefix to 1111b for instances of the vaesimc and vaeskeygenassist instructions
compilers should encode vexw  0 for the vzeroall and vzeroupper instructions
none identified
software can avoid this by
software should not use fxsave or fxrstor with the vex prefix
before performing a vm entry to the shutdown state software should check whether the virtual nmis and nmiwindow exiting vmexecution controls are both 1 if they are software should clear nmiwindow exiting and inject an nmi as part of vm entry
none identified
if bus 0 device 1 function 1 or 2 is disabled do not configure the x16 port to allocate lanes to those functions
none identified
none identified
none identified
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the graphics driver to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
software should ensure that the vexl bit is set to 0 for all scalar instructions
none identified
none identified please refer to software developers manual volume 3 section recommended invalidation for the proper procedure for concurrently changing page attributes and page size
none identified
it is possible for the bios to contain a workaround for this erratum
software should avoid locating paging structures at addresses in uncacheable memory that are used for memorymapped io
none identified do not use floatingpoint stores to modify code
none identified
none identified

none identified
it is possible for the bios to contain a workaround for this erratum except if paired with the intel 7 series chipset bd82um77 chipset
none identified
none identified
software should be written to handle spurious vtd fault interrupts
none identified
software that has executed in 64bit mode should reload cr3 with a 32bit value before returning to 32bit paging
software requiring the page offset of the original memory access address can derive it by simulating the effective address computation of the instruction that caused the ept violation
none identified
it is possible for the bios to contain a workaround for this erratum all intel txt enabled software must use sinit acm 3rd_gen_i5_i7sinit_67bin or later
it is possible for the bios to contain a workaround for this erratum
none identified
a virtualmachine monitor should not allow guest software to write to the ia32_misc_enable msr
it is possible for the bios to contain a workaround for this erratum
software should not write to a pagingstructure entry in a way that would change for any linear address both the page size and the memory type it can instead use the following algorithm first clear the p flag in the relevant pagingstructure entry eg pde then invalidate any translations for the affected linear addresses and then modify the relevant pagingstructure entry to set the p flag and establish the new page size and memory type
none identified
none identified
none identified software that relies on a locked instruction to fence subsequent executions of vmovntdqa should insert an mfence instruction between the locked instruction and subsequent vmovntdqa instruction
none identified
if the handler of the affected events inspects the arithmetic portion of the saved eflags value then system software should perform a synchronized paging structure modification and tlb invalidation
none identified
none identified
do not execute monitor or clflush instructions on the local xapic address space
none identified
none identified
none identified
none identified
software should ensure pages are not being actively used before requesting their memory type be changed
the sampling driver should avoid using sav100
algorithms that rely on cache disabling should not be executed in vmx root operation
software should always set the vvvv field of the vex prefix to 1111b for instances of the vaesimc and vaeskeygenassist instructions
none identified
software that uses the localapic timer must be prepared to handle the timer interrupts even those that would not be expected based on reading ccr and the lvt and irr bits alternatively software can avoid the problem by writing zero to the initial count register before reading the lvt and irr bits
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
software should ensure that the vexl bit is set to 0 for all scalar instructions
none identified
none identified
none identified software should clear ia32_mci_status msrs as early as possible to minimize the possibility of this erratum occurring
none identified
none identified
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
software should be written to handle spurious vtd fault interrupts
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
software that has executed in 64bit mode should reload cr3 with a 32bit value before returning to 32bit paging
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
software requiring the page offset of the original memory access address can derive it by simulating the effective address computation of the instruction that caused the ept violation
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
privileged software should not execute a mwait because it can trigger a package c7 entryexit between writing to rta_reg irta_reg and gcmd_regsrtp gcmd_regsirtp registers
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
ensure that the smram statesave area is located entirely below the 4gb address boundary
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified if the pmi is programmed to generate an nmi software may delay the
software should not use fxsave or fxrstor with the vex prefix
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this issue
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
bios should set the max acpi _pst object to the max supported turbo ratio ensuring that the software pstate request does not exceed the maximum ratio supported by the processor note that this workaround will disable core ratio overclocking
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
the caterr pin can be deasserted by a cold reset event
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
a virtualmachine monitor should not allow guest software to write to the ia32_misc_enable msr
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
software should use the opcode bytes f3 0f bc only if cpuideax07h ecx0ebxbmi1 bit 3 is 1 and only if the functionality of tzcnt and not bsf is desired
the latest version of the intel graphics driver disables intel s2ddt for resolutions with a pixel clock between 513 mhz and 540 mhz
a virtualmachine monitor should not allow guest software to write to the ia32_misc_enable msr
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum which demotes
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
the following sequence avoids this erratum steps 1 and 2 are needed if the counter was previously enabled
none identified
do not use a 66h instruction prefix with a 64bit operand movbe instruction
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
software should not enter a guest with enable vpid set to 1 when activate secondary controls is set to 0
none identified software can execute an mfence instruction immediately prior to the iret instruction if serialization is needed
it is possible for bios to contain a workaround for this erratum
none identified a poweron reset of the processor will clear the yellow bit indication if during system operation after that reset yellow status is signaled again then it should be treated as a valid yellow status condition
none identified platforms should limit peci operating frequency to 1 mhz
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum a software workaround is possible through disallowing pebs during vmx nonroot operation and disabling pebs prior to vm entry
none identified
none identified
none identified software that relies on a locked instruction to fence subsequent executions of vmovntdqa should insert an mfence instruction between the locked instruction and subsequent vmovntdqa instruction
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for bios to contain processor configuration data and code changes as a workaround for this erratum
none identified

software should always prevent faults on pebs or bts
none identified
none identified
none identified
before writing msr_lastbranch_x_from_ip ensure the value being written has bit
it is possible for the bios to contain a workaround for this erratum
none identified
if the handler of the affected events inspects the arithmetic portion of the saved eflags value then system software should perform a synchronized paging structure modification and tlb invalidation
none identified
none identified
do not execute monitor or clflush instructions on the local xapic address space
none identified
none identified
none identified
none identified
software should ensure pages are not being actively used before requesting their memory type be changed
the sampling driver should avoid using sav100
algorithms that rely on cache disabling should not be executed in vmx root operation
software should always set the vvvv field of the vex prefix to 1111b for instances of the vaesimc and vaeskeygenassist instructions
none identified
software that uses the localapic timer must be prepared to handle the timer interrupts even those that would not be expected based on reading ccr and the lvt and irr bits alternatively software can avoid the problem by writing zero to the initial count register before reading the lvt and irr bits
none identified
none identified
none identified
none identified
none identified
none identified
software should ensure that the vexl bit is set to 0 for all scalar instructions
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
software should be written to handle spurious vtd fault interrupts
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
none identified
ensure that the smram statesave area is located entirely below the 4gb address boundary
none identified if the pmi is programmed to generate an nmi software may delay the
software should not use fxsave or fxrstor with the vex prefix
none identified
none identified
a virtualmachine monitor should not allow guest software to write to the ia32_misc_enable msr
none identified
software should use the opcode bytes f3 0f bc only if cpuideax07h ecx0ebxbmi1 bit 3 is 1 and only if the functionality of tzcnt and not bsf is desired
software must not perform a second root table pointer update before doing a global invalidation of either the contextcache or the iotlb
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
initialize or reset the counters such that lower 6 bits are 0
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for bios to contain a workaround for this erratum
the processor inserts these packets as status packets in the psb block the decoder may have to skip forward to the next psb block in the trace to obtain the proper updated information to continue decoding
none identified
none identified
it is possible for bios to contain a workaround for this erratum
none identified
it is possible for bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
decoders should ignore fup and modeexec packets that are not between tippge and
software should avoid writing nonzero values to bits
it is possible for bios to contain a workaround for this erratum
it is possible for bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
avoid following a mov ss or pop ss instruction immediately with an xbegin instruction
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
do not use a 66h instruction prefix with a 64bit operand movbe instruction
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for bios to contain processor configuration data and code changes as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for bios to contain processor a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this problem
software should not enter a guest with enable vpid set to 1 when activate secondary controls is set to 0
none identified software can execute an mfence instruction immediately prior to the iret instruction if serialization is needed
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified software may mask the fault reporting event by setting the im interrupt mask field in the iommu fault event control register offset 038h in gfxvtbar
none identified instead of marking a context not present software should mark the context or extendedcontext entry present while using the page table to indicate all the memory pages referenced by the context entry is not present
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum a software workaround is possible through disallowing pebs during vmx nonroot operation and disabling pebs prior to vm entry
none identified
none identified software that relies on a locked instruction to fence subsequent executions of vmovntdqa should insert an mfence instruction between the locked instruction and subsequent vmovntdqa instruction
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
software should always prevent faults on pebs or bts
none identified
none identified
none identified
none identified
before writing msr_lastbranch_x_from_ip ensure the value being written has bit47 replicated in bits6261 this is most easily accomplished by sign extending from bit47 to bits6248
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
for processors that support ler live error recovery the link would be reset and credits would be restored processors that do not support ler should configure ecrc errors to be fatal
none identified
none do not enable upi crc32 setting in bios
none
none
it is possible for the bios to contain a workaround for this erratum
none identified

none use unicast register read for each instance instead of broadcast register read for all instances at once
none
none identified
none identified this erratum can be mitigated by using the imc performance monitoring counters to derive a readwrite ratio that can be used to adjust the mbm counters
none identified
none do not set vpp reset mode to 0
software must configure intel quickdata technology local and remote crc store operations to have descriptor destination offset addresses dwordaligned
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none
none
it is possible for bios to contain a workaround for this erratum
avoid code that wraps around segment limit
none
align smbase to 32 kb
a locked data access should always be aligned
none
software should detect via the selfsnoop bit in the cpuid features flags if the processor supports a selfsnooping capability software should perform explicit memory managementflushing for aliased memory ranges on processors that do not selfsnoop
none
none
as recommended in the ia32 intel architecture software developers manual   the use of mov sspop ss in conjunction with mov resp rebp will avoid the failure since the mov resp rebp will not generate a floating point exception developers of debug tools should be aware of the potential incorrect debug event signaling created by this erratum
it is possible for bios to contain a workaround for this erratum
software that needs to implement memory aliasing in this way should manage   the consistency of the accessed and dirty bits
do not use invalid msr addresses with rdmsr or wrmsr
do not disable ssesse2 in control register cr4 and avoid code segment limit violation
none
ignore breakpoint data from mov to cr instruction
software should avoid crossing page boundaries from wb or wc memory type to   uc wp or wt memory type within a single rep movs or rep stos instruction that will execute with fast strings enabled
fxsave stos or movs data must not cross page boundary from wb to uc memory type
it is possible for bios code to contain a workaround for this erratum
there is no workaround for singlestep operation in commercially available software for debug activities on custom software the popf and popfd instructions could be immediately followed by a nop instruction to facilitate correct execution
ignore l2_lines_in event when the l2 cache is disabled
none
the debug handler should clear breakpoint registers before they become disabled
none identified
none identified
none identified
do not use memory type uswc for memory that has read sideeffects
do not use memory type uswc for memory that has read sideeffects
after initialization do not expect the fpudatapointer in a floating point state or floating point environment saved memory image to be correct until at least one non control fp instruction with a memory operand has been executed
user mode code should not count on being able to recover from illegal accesses       to memory regions protected with supervisor only access when using fp instructions
it is possible for the bios to contain a workaround for this erratum
do not set the reserved bits to one when pdptr entries are invalid
write to cr3 cr4 setting bits pse pge or pae or cr0 setting bits pg or pe registers before writing to memory early in bios code to clear all the global entries from tlb
although it is possible to have a single physical page mapped by two different linear addresses with different memory types intel has strongly discouraged this practice as it may lead to undefined results software that needs to implement memory aliasing should manage the memory type consistency
software can avoid this erratum by placing a serializing instruction between code fetches between different memory types
use the pic instead of the apic for the interrupt controller
software should ensure that memory accesses do not occur above the 4g limit 0ffffffffh
none identified
none identified
none identified
none identified
this nonsynchronization can be avoided by issuing an  apic  register read  after the apic register write this will force the store to the apic register before any subsequent instructions are executed no commercial operating system is known to be impacted by this erratum
none identified
any vector programmed into an lvt entry must have an isr associated with it   even if that vector was programmed as masked this isr routine must do an eoi to clear any unexpected interrupts that may occur  the isr associated with the spurious vector does not generate an eoi therefore the spurious vector should not be used when writing the lvt
operating systems should not allow a20m to be enabled if the masking of   address bit 20 could be applied to an address that references a large page a20m is normally only used with the first megabyte of memory
code which performs loads from memory that has sideeffects can effectively workaround this behavior by using simple integerbased load instructions when accessing sideeffect memory and by ensuring that all code is written such that a code segment limit violation cannot occur as a part of reading from sideeffect memory
none identified
this condition can be avoided by inserting two nonfloatingpoint instructions between the two floatingpoint instructions
in general operating systems do not set the gd bit when they are in v86 mode
do not initialize the system_cs_msr with the values between fff8h and fffbh fff0h and fff3h or ffe8h and ffebh before executing sysenter or sysexit
none identified
none identified
do not perform unaligned accesses on paging structure entries
software should ensure that the memory type specified in the mtrrs is the same    for the entire address range of the large page
erratum can be avoided by placing a guard page nonpresent or nonexecutable page as the last page of the segment or after the page that includes the code segment limit
none identified
none identified
none identified
none identified
the pages should not be mapped as either uc or wc and wb at the same time
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
software should avoid using noncanonical effective addressing in em64t enabled processors bios can contain a workaround for this
none identified
bios must provide valid physical address ranges to the operating system
none identified
define btspebs buffer such that btspebs absolute maximum minus btspebs buffer base is integer multiple of the corresponding record sizes as recommended in the ia32 intel architecture software developers manual volume 3
none identified
do not use strings larger than 4 gb
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum 
if use of the ondemand mode of the processors tcc is desired in conjunction with stpclk modulation then assure that stpclk is not asserted at a 25 duty cycle
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
any vector programmed into an lvt entry must have an isr associated with it even if that vector was programmed as masked this isr routine must do an eoi to clear any unexpected interrupts that may occur the isr associated with the spurious vector does not generate an eoi therefore the spurious vector should not be used when writing the lvt
address parity should be disabled and rcnt information should be ignored at the bus ratio of 131
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
when a real runtime l2 cache ecc machine check occurs a corresponding valid error will normally be logged in the ia32_mc0_status register bios may clear ia32_mc2_status andor ia32_mc1_status for these specific errors when ia32_mc0_status does not have its val flag set
software should ensure that all vmcs reserved bits are set to values consistent with vmx capability msrs
operating systems should not allow a20m to be enabled if the masking of address bit 20 could be applied to an address that references a large page a20m is normally only used with the first megabyte of memory
software should ensure at least one of the following is true when modifying shared data by multiple agents
none identified
software should not generate misaligned stack frames for use with iret
none identified
none identified
bios may clear fsb protocolsignal integrity machine checks for systemschipsets which do not block new transactions during reset assertions
monitor software can workaround this bug by avoiding injection of nmi after
software should ensure that host addressspace size vmexit control has the same value as ia32_eferlma at the time of vmlaunchvmresume
none identified
it is possible for bios to contain a workaround for this erratum
it is possible for bios to contain a workaround for this erratum
an smm vmm should always set the ia32e guest vmentry control in the smm vmcs to be the value that was in the lma bit ia32_eferlmalmabit 10 in the ia32_efer msr c0000080h at the time of the last smm vm exit if this guideline is followed that value will be 1 only if the host addressspace size vmexit control is 1 in the executive vmcs
none
any vector programmed into an lvt entry must have an isr associated with it even if that vector was programmed as masked this isr routine must do an eoi to clear any unexpected interrupts that may occur the isr associated with the spurious vector does not generate an eoi therefore the spurious vector should not be used when writing the lvt
in general operating systems do not set the gd bit when they are in v86 mode the gd bit is generally set and used by debuggers the debug exception handler should check that the exception did not occur in v86 mode before continuing if the exception did occur in v86 mode the exception may be directed to the generalprotection exception handler
this nonsynchronization can be avoided by issuing an apic register read after the apic register write this will force the store to the apic register before any subsequent instructions are executed no commercial operating system is known to be impacted by this erratum
operating systems should not allow a20m to be enabled if the masking of address bit20 could be applied to an address that references a large page a20m is normally only used with the first megabyte of memory
none
none
in the acpios implement a workaround by temporarily disabling the dts threshold interrupt before updating the dts threshold value
smm software should not change the value of eflagsvm in smram
none
none
as recommended in the ia32 intel architecture software developers manual the use of mov sspop ss in conjunction with mov resp rebp will avoid the failure since the mov resp rebp will not generate a floating point exception developers of debug tools should be aware of the potential incorrect debug event signaling created by this erratum
none
define btspebs buffer such that btspebs absolute maximum minus btspebs buffer base is integer multiple of the corresponding record sizes as recommended in the ia32 intel architecture software developers manual volume 3
none
in order to avoid this erratum programmers should use the xmc synchronization algorithm as detailed in the intel architecture software developers manual volume 3a system programming guide section handling self and crossmodifying code
software should not set bit 7 in any pml4e or pdpte that has present bit bit 0 set to 1
the smm handler has to evaluate the saved context to determine if the smi was triggered by an instruction that read from an io port the smm handler must not restart an io instruction if the platform has not been configured to generate a synchronous smi for the recorded io port address
do not set the freeze_lbrs_on_pmi bit of ia32_debugctl msr
none
none identified
none identified
none identified
software should clear the ia32_perf_global_statusovf bit in the pmi handler
software can avoid this problem by ensuring that the tlbs never contain both ordinary and largepage translations for a linear address that differ with respect to page frame permissions or memory type
none
none identified this erratum may be detected by a from address having its upper 32bits zero but its lower 32bits matching the previous to address recorded
none identified
none identified
none identified
if lint0 is used it is recommended to either leave the apic enabled ia32_apic_base msr bit 11 set to 1 or do not use mwait io redirection vm entry or rsm to enter an inactive state
software should not generate misaligned stack frames for use with iret
insert a buffer in the hsyncvsync signal path before the video connector refer to platform design guide and customer reference board crb schematic for reference
none identified
it is possible for the bios to contain a workaround for this erratum
the frequency of occurrence of this problem is reduced greatly if an operating system regularly polls and clears the machine check banks as this reduces the likelihood of an overflow condition
if the fp data operand pointer is used in a 64bit operating system which may run code accessing 32bit addresses care must be taken to ensure that no 80bit fp accesses are wrapped around a 4gbyte boundary
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
a bios workaround has been identified please refer to memory reference code version 112 or later
if the fp data operand pointer is used in an operating system which may run 16bit fp code care must be taken to ensure that no 80bit fp accesses are wrapped around a 64kbyte boundary
none identified
none identified
if the fp data  operand  pointer  is used in an os which may run 16bit floating point code care must be taken to ensure that no 80bit floatingpoint accesses are wrapped around a 64kbyte boundary
following movss and popss instructions with a mov esp instruction when using breakpoints will avoid the first three cases of this erratum no workaround has been identified for cases 4 5 or 6
operating system developers should take care to execute a wbinvd instruction before the ap is taken offline using an init_ipi
the debug handler should clear breakpoint registers before they become disabled
though the ability to drive binit can be disabled in the pentium iii processor  which would prevent the effects of this erratum overall system behavior would not improve since the error which would normally cause a binit would instead cause the machine to shut down no other workaround has been identified
this condition can be avoided by inserting two nop instructions between the two floatingpoint instructions
none identified
if a system implementation must support both smm and mces the first thing the smm handler code when an io restart is to be performed should do is check for a pending mce if there is  an mce pending the smm handler should immediately exit via an rsm instruction and allow the machine check exception handler to execute if there is not the smm handler may proceed with its normal operation
if branch trap functionality is desired btms must be disabled
for successful detection of bist failure in the checker of an frc pair use the  frcerr signal instead of ierr
none identified
no workaround  which would  guarantee  successful mce handler execution under this condition has been identified
none identified
none identified
none identified
no workaround is needed upon normal restart  of  the  instruction  since  this erratum is transparent to the faulting code and results in correct instruction behavior operating systems may ensure that no processor is currently accessing a page that is scheduled to have its page permissions tightened or have a page fault handler that ignores any incorrect state
if the other seven generalpurpose registers are unavailable for use and it is necessary to do a call via the esp register first push esp onto the stack then perform an indirect call using esp eg call esp the saved version  of esp should be popped off the stack after the call returns
bus agents must consider transaction type  to  determine  the  validity  of  the memory type field for a transaction

software should follow the recommendation in  section  82  of  the  intel  architecture software developers manual volume 3 system programming guide order number 243192 this recommendation states that if the fpu will be used softwareinitialization code should execute an finitfninit instruction following a hardware reset this will correctly clear the fp data operand pointer to zero
there are two possible workarounds for this erratum
code which performs loads from memory that has sideeffects can effectively workaround this behavior by using simple integerbased load instructions when accessing sideeffect memory and by ensuring that all code is written such that a  code segment limit violation cannot occur as a part of reading from sideeffect memory
hardware and software developers who write device drivers for custom hardware  that may have a sideeffect style of design should use simple loads and simple stores to transfer data to and from the device then the  memory location will simply be read twice with no additional implications
when decoding the mc2_status msr reverse the two error fields
follow a homogenous model for the memory type  range  registers  mtrrs ensuring that all processors have the same cacheability attributes for each region of memory do not use locks whose memory type is cacheable on one processor and uncacheable on others avoid page table aliasing which may produce a nonhomogenous memory model
in general operating systems do not set the gd bit when they are in v86 mode   the gd bit is generally set and used by debuggers the debug exception handler should check that the exception did not occur in v86 mode before continuing if the exception did occur in v86 mode the exception may be directed to the general protection exception handler
none identified
whether  enabled or not do not program a misaligned data breakpoint to the    same cache line on the stack where the push for the near call is performed
do not use invalid msr addresses with rdmsr or wrmsr
none identified
ensure that os code does  not  clear the  dbit  for system pages including any pages that contain a task gate or tss use task gates rather than jumping to a new tss when performing a task switch
ignore the second debug exception that is taken as a result of this erratum
it is possible for bios code to contain a workaround for this erratum
it is possible for bios code to contain a workaround for this erratum
deterministic barriers beyond  which program variables will not be modified can    be achieved via the usage of locked semaphore operations these should effectively prevent the occurrence of this erratum
ensure that all accesses to apic space are aligned
applications that follow intel programming  guidelines  empty all x87  registers before executing mmx technology instructions will not be affected by this erratum
use  a  lock instruction to force  p0 to execute instruction 6 before instruction  7
disable aerr drive from the processor  aerr  drive  may  be  disabled  by clearing bit 3 in the ebl_cr_poweron register in addition if the chipset allows aerr drive should be enabled from the chipset and aerr observation enabled on the processor aerr observation on the processor is enabled by asserting a8 on the activetoinactive transition of reset
all bus agents that  support  system bus ecc  must disable it when a 21 ratio is used
a system which can accept a drdy assertion during a write with no data will not be affected by this erratum in addition this erratum will not occur if the maskmovq is aligned
when writing to rob_cr_bkuptmpdr6 all unimplemented bits must be 0 implemented bits may be set as 0 or 1 as desired
it is possible for bios code to contain a workaround for this erratum
the correct value of l2_lines_in and l2_lines_out may be calculated by subtracting the value of the mmx_pre_miss 4bh from each of these registers
it is possible for bios code to contain a workaround for this erratum
none identified
the operating system could align all tsss to be within page boundaries and set    the a and d bits for those pages to avoid this erratum the operating system may alternately use software task management
in order to avoid this erratum programmers should use the xmc synchronization algorithm  as detailed in the intel architecture software developers manual volume  3 system programming guide section 713
the system bios should ignore the bist results in the eax register
possible workarounds that may reduce  or  eliminate  the  occurrence  of  the  spurious smi interrupts include
none identified
none identified
it is possible for bios code to contain a workaround for this erratum
none identified
it is possible for bios code to contain a workaround for this erratum
none identified
it is possible for bios code to contain a workaround for this erratum
there are two possible workarounds for this erratum
for systems that use the flush input signal and deep sleep state  of  the processor ensure that flush is not asserted while stpclk is asserted

none identified
avoid operation of the pentium iii processor outside of the thermal specifications defined by the processor specifications
it is possible for bios code to contain a workaround for this erratum
affected  systems those capable of asserting the flush pin should prevent   snoop activity on the front side bus until invalidation is completed after asserting flush or use a wbinvd instruction instead of asserting the flush pin in order   to flush the cache
software can insert a serializing  instruction  between  the  ltr or lldt instruction and the segment register write
write to cr3 cr4  or  cr0  registers  before  writing  to memory early in bios code to clear all the global entries from tlb
none identified
software that needs to implement memory aliasing in this way should manage    the consistency of the accessed and dirty bits
although it is  possible to have a single physical page mapped by two different   linear addresses with different memory types intel has strongly discouraged this practice as it may lead to undefined results software that needs to implement memory aliasing should manage the memory type consistency
software needs to ensure any accessed tss is valid
software can avoid this erratum by placing a serializing instruction between code fetches between different memory types
none identified
software  should always poll the  delivery status bit in the  apic  icr and ensure  that it is 0 idle before writing a new value to the icr
it is possible for bios code to contain a workaround for this erratum
do not use boundary scan when slp is asserted low
to prevent the risk of poweron boot failures or catastrophic thermal failures a platform workaround is required the system must provide a rising edge on the tck signal during the poweron sequence that meets all of the following requirements
it is possible to workaround this in bios by not asserting cpuslp for power management purposes
operating  systems  that  are potentially affected can add a second write to the   cr3 register
none identified at this time
none identified
lockable data should always be contained in a single page
software operating within intels recommendation will not require wb and wc memory aliased to the same physical address
fxsave  stos or movs data must not cross page boundary from wb to uc  memory type
there is no workaround for single step operation  in  commercially  available  software for debug activities on custom software the popf and popfd instructions could be immediately followed by a nop instruction to facilitate correct execution
avoid code that wraps around segment limit
none identified
align smbase to 32k byte
none identified
software should align gdt to 8bytes
do not use memory type uswc for memory that has read side effects
after an finit do not expect the  fxsave memory image  to be  correct until at least one fp instruction with a memory operand has been executed
user mode  code  should not count on being able to recover from illegal accesses   to memory regions protected with supervisor only access when using fp instructions
do not set the reserved bits to one when pdptr entries are invalid
any vector programmed into an lvt entry must have  an isr associated with it  even if that vector was programmed as masked this isr routine must do an eoi to
none identified
this nonsynchronization can be  avoided  by issuing  an apic register read after   the apic register write this will force the store to the apic register before any subsequent instructions are executed no commercial operating system is known to  be impacted by this erratum
operating systems should not allow a20m  to  be  enabled  if the  masking of address bit 20 could be applied to an address that references a large page  a20m   is normally only used with the first megabyte of memory
none identified
write to cr3 cr4 setting bits pse pge or pae or cr0 setting bits pg or pe registers before writing to memory early in bios code to clear all the global entries from tlb
none identified
none identified
do not perform unaligned accesses on paging structure entries
software should ensure that the memory type specified in the mtrrs is the same    for the entire address range of the large page
erratum can be avoided by placing a guard page nonpresent or nonexecutable page as the last page of the segment or after the page that includes the code segment limit
none identified
any vector programmed into an lvt entry must have an isr associated with it even if that vector was programmed as masked this isr routine must do an eoi to clear any unexpected interrupts that may occur the isr associated with the spurious vector does not generate an eoi therefore the spurious vector should not be used when writing the lvt
none identified
none identified
software exception handlers that rely on the ler msr value should read the ler msr before executing verwverrlsllar instructions

use the iret instruction to return from a system call if rf flag has to be set after the return
none identified
none identified
none identified
this nonsynchronization can be avoided by issuing an apic register read after the apic register write this will force the store to the apic register before any subsequent instructions are executed no commercial operating system is known to be impacted by this erratum
in the acpios implement a workaround by temporarily disabling the dts threshold interrupt before updating the dts threshold value
none identified
none identified
none identified
multiply the performance monitor value by the maximum possible ratio
operating systems should not allow a20m to be enabled if the masking of address bit 20 could be applied to an address that references a large page a20m is normally only used with the first megabyte of memory
software should ensure at least one of the following is true when modifying shared data by multiple agents
avoid code that wraps around segment limit
this condition can be avoided by inserting either three nops or three nonfloatingpoint nonjcc instructions between the two floatingpoint instructions
do not use global pages in system management mode
if the last page of the positive canonical address space is not allocated for code 4k page at 00007ffffffff000 or 2m page at 00007fffffe00000 then the problem cannot occur
software should ensure that all vmcs reserved bits are set to values consistent with vmx capability msrs
software should avoid crossing page boundaries from wb or wc memory type to uc wp or wt memory type within a single rep movs or rep stos instruction that will execute with fast strings enabled
none identified
code which performs loads from memory that has sideeffects can effectively workaround this behavior by using simple integerbased load instructions when accessing sideeffect memory and by ensuring that all code is written such that a code segment limit violation cannot occur as a part of reading from sideeffect memory
software should ensure that memory accesses in 32bit mode do not occur above the 4 g limit 0ffffffffh
none identified
none identified
do not use values in ecx that when multiplied by the data size give values larger than the address space size 64 kb for 16bit address size and 4 gb for 32bit address size
none identified
none identified
in order to avoid this erratum programmers should use the xmc synchronization algorithm as detailed in the intel 64 and ia32 architectures software developers manual volume 3 system programming guide section handling self and cross modifying code
none identified
do not use locked stores that span cache lines in the monitored address range
it is possible for the bios to contain a workaround for this erratum
avoid segment base misalignment and address wraparound at the segment boundary
it is possible for the bios to contain a workaround for this erratum
clear the ac flag bit 18 in the eflags register andor the am bit bit 18 of control register cr0 to disable alignment checking
none identified
it is possible for bios to contain a workaround for this erratum
none identified
none identified
when this erratum occurs reset must be asserted to restore multicore functionality
mask eflagstf by setting ia32_fmasktf bit 8
none identified
none identified
operating system software should initialize ia32_fmask after init
as recommended in the intel 64 and ia32 architectures software developers manual the use of mov sspop ss in conjunction with mov resp rebp will avoid the failure since the mov resp rebp will not generate a floating point exception developers of debug tools should be aware of the potential incorrect debug event signaling created by this erratum
none identified
the smm handler has to evaluate the saved context to determine if the smi was triggered by an instruction that read from an io port the smm handler must not restart an io instruction if the platform has not been configured to generate a synchronous smi for the recorded io port address
write to cr3 cr4 setting bits pse pge or pae or cr0 setting bits pg or pe registers before writing to memory early in bios code to clear all the global entries from tlb
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
in general operating systems do not set the gd bit when they are in v86 mode the gd bit is generally set and used by debuggers the debug exception handler should check that the exception did not occur in v86 mode before continuing if the exception did occur in v86 mode the exception may be directed to the generalprotection exception handler
no workaround is needed upon normal restart of the instruction since this erratum is transparent to the faulting code and results in correct instruction behavior operating systems may ensure that no processor is currently accessing a page that is scheduled to have its page permissions tightened or have a page fault handler that ignores any incorrect state
none identified
none identified
do not use repeated string operations with rcx greater than or equal to 248
smm software should not change the value of eflagsvm in smram
software should ensure that host addressspace size vmexit control has the same value as ia32_eferlma at the time of vmlaunchvmresume
software should not generate misaligned stack frames for use with iret
none identified
none identified
do not use performance monitoring counters for precise event sampling when the precise event is dependent on the cpl value
none identified
it is possible for the software to set ia32_debugctl 12 to avoid this erratum
none identified
use an interrupt task gate for the machine check handler
a virtualmachine monitor must manually disregard the bs bit in the guest state area in case of a vmexit due to a tpr value below the tpr threshold
none identified
none identified
it is possible for bios to contain a workaround for this erratum
none identified
none identified
do not use wb to wt aliasing
none identified
do not attempt to put a breakpoint on movss and popss instructions that are followed by a sysret
none identified
software that conforms to the intel 64 and ia32 architecture software developers manual volume 3a section buffering of write combining memory locations will operate correctly
none identified
software should use the recommended enumeration mechanism described in the architectural performance monitoring section of the intel 64 and ia32 architecture software developers manual volume 3 system programming guide
do not perform unaligned accesses on paging structure entries
host software should intercept and prevent loads to ia32_bios_updt_trig msr 79h during vmx nonroot operations there are two mechanism that can be used 1 enabling msr access protection in the vmexecution controls or 2 enabling selective msr protection of ia32_bios_updt_trig msr
software should ensure that the memory type specified in the mtrrs is the same for the entire address range of the large page
nonpresent or nonexecutable page can be placed after the limit of the code segment to prevent this erratum
it is possible for bios to contain a workaround for this erratum
none identified
none identified
none identified
none identified
none identified
none identified
none identified
performance monitoring event cpu_clk_unhaltedref will count at a rate different than the tsc time stamp counter
none identified
do not use values in ecx that when multiplied by the data size give values larger than the address space size 64k for 16bit address size and 4g for 32bit address size
none identified
none identified
software can avoid this erratum by not using rep stosmovs store operations within the monitored address range
it is possible for the bios to contain a workaround for this erratum
software should not attempt to set reserved bits of ia32_mtrr_physmaskn msrs
none identified
for a fully comprehensive workaround the vmm should not allow the logging of branch or pebs records while guest software is running if the virtualize apic accesses vm execution control is 1
the vmm should emulate any event delivery that causes an apicaccess vm exit in the same way regardless of the offset saved in the exit qualification
it is possible for bios to workaround this erratum by masking off bit 17 of the eax register after coming out of reset
it is possible for bios to contain a workaround for this erratum
although it is possible to have a single physical page mapped by two different linear addresses with different memory types intel has strongly discouraged this practice as it may lead to undefined results software that needs to implement memory aliasing should manage the memory type consistency
software desiring strict ordering of stringfxsave operations relative to subsequent writeback stores should add an mfence or sfence instruction between the stringfxsave operation and following storeorder sensitive code such as that used for synchronization
vmm software raising the value of the tprthreshold vmexecution control field should compare it to the tpr shadow if the threshold value is higher software should not perform a vm entry instead it could perform the actions that it would normally take in response to a vm exit with exit reason tpr below threshold
none identified intel does not support the use of cacheable and wc memory type aliasing and wc operations are defined as weakly ordered
it is possible for the bios to contain a workaround for this erratum please contact your intel sales representative for availability
vmm software should configure the virtualmachine control structure vmcs so that vm entry failures do not occur
none identified
none identified
none identified
if the fp data operand pointer is used in a 64bit operating system which may run code accessing 32bit addresses care must be taken to ensure that no 80bit fp accesses are wrapped around a 4gbyte boundary
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
bios can workaround this erratum by clearing the counters at processor initialization time
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
use the gigabit ethernet controllers software defined pin aux0 as the ieee1588 v2 auxiliary device connection for external clock synchronization
none identified
do not disable the unused uart
none identified usb driver recovery protocol may be applied to cause the transfer to be retried
do not use the 8259 virtual mode b mode when using the 8259 to deliver interrupts
a bios code change has been identified and may be implemented as workaround for this erratum
a bios code change has been identified and may be implemented as workaround for this erratum
to avoid a hang it is possible to configure receiver overflow errors to be nonfatal errors
a bios code change has been identified and may be implemented as workaround for this erratum
a bios code change has been identified and may be implemented as workaround for this erratum
software should ensure that the vmcs and referenced data structures are located at physical addresses that are mapped to wb memory type by the mtrrs
software should not set bit 7 in any pml4e or pdpte that has present bit bit 0 set to 1
when a vmm emulates a branch instruction it should inject a general protection exception if the instruction target eip is beyond the cs limit
none identified
none identified
reenabling the pmcs in ia32_perf_global_ctrl will log the overflows that were not previously logged in ia32_perf_global_status
software that requires a locked instruction to fence subsequent executions of movntdqa should insert an lfence instruction before the first execution of movntdqa following the locked instruction if there is already a fencing or serializing instruction between the locked instruction and the movntdqa then an additional lfence is not necessary
none identified
in order to avoid this erratum programmers should use the xmc synchronization algorithm as detailed in the intel architecture software developers manual volume 3 system programming guide section handling self and crossmodifying code
none identified

a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified the gigabit ethernet controller function 0 must remain enabled when the controller is enabled
for master transactions subject to this erratum the device driver should ensure the data buffer is zerofilled to the next 16 byte boundary before initiating the transaction
none identified software must follow the recommendation that all interrupt sources that target an apic must be masked or changed to no longer target the apic before the apic is disabled
none identified
gpio drivers should not access gpio registers concurrently each driver should acquire a global lock before accessing the gpio register and then release the lock after the access is completed
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
software can avoid this erratum by disabling all fixedfunction performance counters before writing to ia32_perf_global_ovf_ctrl msr
it is possible for the firmware to contain a workaround for this erratum
none identified
a virtualmachine monitor should not allow guest software to write to the ia32_misc_enable msr
it is possible for the firmware to contain a workaround for this erratum
it is possible for the firmware to contain a workaround for this erratum
none identified
it is possible for the firmware to contain a workaround for this erratum
none identified
none identified
sata 2 disable and sata 3 disable soft straps must be 0 when boundary scan is used
it is possible for the firmware to contain a workaround for this erratum
none identified
a bios code change has been identified and may be implemented as workaround for this erratum
none identified
none identified
none identified
intel ethernet software release version 202 and above contains a workaround for this erratum
a platform level change has been identified and may be implemented as a workaround for this erratum
do not access unimplemented isp mmio space
software must be written and compiled in compliance to correct programming model
always use aligned 32 bit transactions when accessing gpio registers
none identified
none identified
use intelprovided bios asl code or refer to intelprovided xhci driver reference code
the emmc driver should use high priority interrupt send_status mode per jedec standard emmc version 45 a minimum wait time of 128us between getting an error interrupt and issuing a software reset will avoid this erratum
none identified
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
software should follow the same error recovery flow whenever an error status bit is set alternatively dont use softwareissued commands which have auto cmd12 enabled
driver is expected to reprogram these registers before issuing a new command
a bios code change has been identified and may be implemented as a workaround for this erratum
to address this problem the sd card clock should be enableddisabled in conjunction with sd card power
a bios workaround has been identified please refer to latest version of bay trailmd soc bios writers guide
system sw can detect the timeout and perform a host controller reset prior to avoid a system hang
none identified
none identified
none identified
none identified
intel recommends system software to check bit 3 port enabledisable change together with bit 7 suspend of port n status and control portc registers when determining which ports have initiated remote wake intel recommends the use of the usb xhci controller which is not affected by this erratum
intel recommends the use of the usb xhci controller which is not affected by this erratum
intel recommends the use of the usb xhci controller which is not affected by this erratum
intel recommends the use of the usb xhci controller which is not affected by this erratum
intel recommends the use of the usb xhci controller which is not affected by this erratum
intel recommends the use of the usb xhci controller which is not affected by this erratum
intel recommends the use of the usb xhci controller which is not affected by this erratum
intel recommends the use of the usb xhci controller which is not affected by this erratum
software should ensure that the vmcs and referenced data structures are located at physical addresses that are mapped to wb memory type by the mtrrs
software should not set bit 7 in any pml4e or pdpte that has present bit bit 0 set to 1
when a vmm emulates a branch instruction it should inject a general protection exception if the instructions target eip is beyond the cs limit
none identified
none identified
reenabling the pmcs in ia32_perf_global_ctrl will log the overflows that were not previously logged in ia32_perf_global_status
software that requires a locked instruction to fence subsequent executions of movntdqa should insert an lfence instruction before the first execution of movntdqa following the locked instruction if there is already fencing or serializing instruction between the locked instruction and the movntdqa then an additional lfence is not necessary
in order to avoid this erratum programmers should use the xmc synchronization algorithm as detailed in the intel architecture software developers manual volume 3 system programming guide section handling self and crossmodifying code
software should be configured to use a gpio pin on the platform to enable or disable the sdio bus power please refer to intel atom processor e3800 product family soc external design specification eds document
in conjunction with the dr bits software should use biosconfigured acpi tables and factor in the connectable field of the usb port capabilities object when determining whether a port is removable
avoid using multiple threads that may concurrently access the isp the intelprovided drivers implement this workaround
the sdio driver should either use sdio synchronous interrupt mode or enable sdio asynchronous interrupt mode after the sdio card signal voltage switch sequence completes
affected algorithms must ensure that appropriate tlb invalidation is done before assuming that future accesses do not use translations based on the old value of the paging structure entry
software should not read these registers until a response is received from the emmc device
the hdaudio controller should be enabled by softstrap bios should not disable it during the boot flow please refer to latest version of valleyview  i soc bios writers guide
none identified contact intel technical support for information on supported phy
limit the total cable length used to connect to the host to less than 24m to compensate for the additional controller response time
none identified
intel recommends the use of the usb xhci controller which is not affected by this erratum
none identified
none identified
none identified an affected virtualmachine monitor could emulate delivery of the software interrupt before vm entry
none identified
do not operate sensor below 80mhz mipi csi clock with thsexit less than 200ns
use the ehci controller for legacy keyboard emulation that requires legacy usb smi support by bios
hs mode may be used in place of uhsi bios and driver workarounds have been identified
none identified
a bios workaround has been identified to minimize the effect of this erratum please refer to the bay trail  md soc bios writers guide or later the 3rd party codec driver should minimize hd audio device command traffic
none identified
none identified
none identified
none identified
a bios code change has been identified please refer to the latest version of intel atom processor e3800 product family series based soc bios writers guide
for the erratum occurring during reset while the system is running a firmware code change has been identified which significantly reduces the likelihood of this erratum after the initial reset at power on for the erratum occurring while powering up from g3
gpio drivers should not access gpio registers concurrently each driver should acquire a global lock before accessing the gpio register and then release the lock after the access is completed the intelprovided drivers implement this workaround
a bios workaround has been identified please refer to version 11 or later of intel atom processor e3800 product family soc bios writers guide
none identified software must follow the recommendation that all interrupt sources that target an apic must be masked or changed to no longer target the apic and that any interrupts targeting the apic be quashed before the apic is disabled
none identified
the affected registers should be written with naturally aligned 32bit transfers when the destination field is narrower than 32 bits adjacent fields within the naturally aligned 32bit boundary must also be written
configure usb and hsic ports such that usb port0 in usb2 host mode is not used simultaneously with hsic port0 and usb port1 in usb2 host mode is not used simultaneously with hsic port1
none identified
a bios workaround has been identified please refer to the latest version of the bios spec update and memory reference code
none identified
software can avoid this erratum by disabling all fixedfunction performance counters before writing to ia32_perf_global_ovf_ctrl msr
it is possible for the firmware to contain a workaround for this erratum
none identified
na
it is possible for the firmware to contain a workaround for this erratum
it is possible for the firmware to contain a workaround for this erratum
none identified
it is possible for the firmware to contain a workaround for this erratum
none identified
it is possible for the firmware to contain processor configuration data and code changes as a workaround for this erratum
a bios workaround has been identified refer to usb 20 device lost during system cold boot  technical advisory document 556192
it is possible for the firmware to contain a workaround for this erratum
none identified
it is possible for the firmware to contain a workaround for this erratum
non identified
firmware code changes for lpc circuitry and mitigations for sd card  usb circuitry have been identified and may be implemented for this erratum
none identified
a 1 ms delay is necessary following system software setting bit 11 host controller reset hcrst of the usb command register xhcibar80h
it is possible for bios to contain a workaround for this issue
none identified
none identified
in order to avoid this erratum programmers should use the xmc synchronization algorithm as detailed in the intel architecture software developers manual volume 3 system programming guide section handling self and crossmodifying code
software should ensure that the vmcs and referenced data structures are located at physical addresses that are mapped to wb memory type by the mtrrs
software should not set bit 7 in any pml4e or pdpte that has present bit bit 0 set to 1
reenabling the pmcs in ia32_perf_global_ctrl will log the overflows that were not previously logged in ia32_perf_global_status
when a vmm emulates a branch instruction it should inject a general protection exception if the instructions target eip is beyond the cs limit
none identified
software that requires a locked instruction to fence subsequent executions of movntdqa should insert an lfence instruction before the first execution of movntdqa following the locked instruction if there is already a fencing or serializing instruction between the locked instruction and the movntdqa then an additional lfence is not necessary
none identified
none identified
a virtualmachine monitor should not allow guest software to write to the ia32_misc_enable msr
none identified
the rtit trace decoder can identify a fupfar in the middle of a far transfer instruction and treat that fupfar as if it was coming from the first byte of the following sequential instruction
none identified
none identified
the rtit trace decoder should ignore any fuptip packet that immediately follows a fupbuffovf whose ip matches the ip payload of the fupbuffovf
as a partial workaround the trace decoder should add 1 to the payload value of any cyc packet with a nonzero payload
power the soc on before connecting to its usb port alternatively manually disconnecting and reconnecting the usb cable restores operation after the erratum has occurred
for dual link panels with overlap choose the overlap so that onehalf the horizontal resolution plus the overlapping pixels is evenly divisible by 4 for single link panels the horizontal resolution must be evenly divisible by 4
none identified
select a video mode that does not use an affected pixel frequency
none identified
software driver can be modified to workaround this erratum
none identified
do not use stick parity mode of uart
do not access to undocumented unimplemented mmio space
the software driver should set pmctrl28 bus 0 device 14 function 0 offset 80a4h after the xhci controller enters d0 state following an exit from d3 state
software should set the uhs_mode field bits 1816 of the cmd12_err_stat_host_ctrl_2 csr before setting the preset_value bit to reach the maximum transfer rate
applications can be written to avoid the conditions necessary for this erratum to occur
none identified
none identified
intel has identified a driver workaround for this erratum
it is possible for the driver to contain a workaround for this erratum
none identified
intel has identified pwm driver workaround for this erratum the driver should write all 0s to pwm_base_unit field bits 238 of pwmctrl register followed by setting pwm_sw_update to 1 before clearing pwm_enable field
none identified
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the firmware to contain a workaround for this erratum
none identified
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the firmware to contain a workaround for this erratum
none identified software can clear nsc nmi status and control msr bus 0 device 31 function 0 offset 61h sne field to disable serr for both nmi and lpc
a bios workaround has been identified and may be implemented as a workaround for this erratum
none identified
a bios workaround has been identified
it is possible for bios to contain a workaround for this erratum
software must not access xhci configuration space within 1ms or set hcrst bit within 120ms of setting the hcrst bit
firmware code changes for lpc and rtc circuitry and mitigations for sd card circuitry have been identified and may be implemented for this erratum
none identified
none identified
none identified
ensure that the smram statesave area is located entirely below the 4gb address boundary
none identified
guest software should not map their apic to a user mode page and attempt to access it from supervisor mode
reenabling the pmcs in ia32_perf_global_ctrl will log the overflows that were not previously logged in ia32_perf_global_status
none identified
none identified
none identified
the intel pt decoder should ignore a tippgd that immediately follows ovf
the intel pt decoder may opt to scan ahead for other packets to confirm whether packeten is set
none identified
none identified
none identified
none identified
while using bistl loopback mode for sata tx compliance testing if a disparity error is encountered in subsequent mftp block after receiving bistl fis and hftp block insert a nonalign primitive to correct back the disparity error at the beginning of mftp pattern
sdemmc software should use the 64bit addressing mode with the 96bit descriptor format
none identified
none identified
none identified
if a design needs to set mr2s 11th bit bios should set d_cr_tqctlsrten  0 at mchbar offset 0x1a50 multicast address and write 1 to bit 7 of mr2 inside the dram to enable selfrefresh extended temperature mode all the time
avoid setting crstb bit 0 at intel hd audio base address  8 to zero unless entering d3 for system suspend or unless asserting platform reset for reboot
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
program invalid instruction fields in flash descriptor with nonzero opcode hence all illegal instructions and preopcode locations will have to be programmed with op codes in the flash descriptor
none identified
to work around the d3 entry issue software can implement an acpi _ps3 method to verify pmcsr bits 10 indicates the device has entered d3 if the device has not entered d3 the d3 entry steps should be repeated to work around the d3 exit issue software can issue a read to any device register prior to programming any dma transfers
the platform should either use an alternate gpe general purpose event to route the sci or the os should ignore wak_sts in s0
software needs to use interrupts to wake processors from mwaitinduced sleep states
do not deassert bme while the camera is active
bios should ensure the sd card and sdio controllers are disabled before disabling the emmc controller or putting it into d3
software should not attempt to write to undefined intel th register locations
software should not deassert bme without first stopping the isp camera driver
ensure all inv_wait_dsc have the if bit andor the sw bit set to 1
none identified
reading a vtd event control register twice achieves the intended interrupt serialization
a platform design change has been identified as a workaround for this erratum
software should add a 120ms delay in between consecutive xhci host controller resets
none identified
software should clear bit 8 pme enable pme_en of pm_cspower management controlstatus register usb xhcid21f0 offset 74h after the controller enters d0 state following an exit from d3
none identified
intel ths pti pattern generator width should be reconfigured only after an intel trace hub soft reset intel trace hub soft reset can be done by setting npkdscflr bit to 1
the correct number of channels can be obtained from soc datasheet
the camera device must disable legacy intx by setting bit 10 of pcicmd bus 0 device 3 function 0 offset 04h before msi is enabled
firmware updates for lpc rtc circuitry and gpio termination have been identified mitigations for sd card circuitry and gpio termination have been identified and may be implemented for this erratum
always use aligned 32 bit transactions when accessing gpio registers
software must be written and compiled in compliance to correct programming model

none identified
none identified
none identified
none identified
system sw can detect the timeout and perform a host controller reset prior to avoid a system hang
none identified
none identified
none identified
none identified
none identified
intel recommends system software to check bit 3 port enabledisable change together with bit 7 suspend of port n status and control portc registers when determining which ports have initiated remote wake intel recommends the use of the usb xhci controller which is not affected by this erratum
none identified
software should ensure that the vmcs and referenced data structures are located at physical addresses that are mapped to wb memory type by the mtrrs
when a vmm emulates a branch instruction it should inject a general protection exception if the instructions target eip is beyond the cs limit
none identified
none identified
reenabling the pmcs in ia32_perf_global_ctrl will log the overflows that were not previously logged in ia32_perf_global_status
software that requires a locked instruction to fence subsequent executions of movntdqa should insert an lfence instruction before the first execution of movntdqa following the locked instruction if there is already fencing or serializing instruction between the locked instruction and the movntdqa then an additional lfence is not necessary
none identified
to avoid this erratum programmers should use the xmc synchronization algorithm as detailed in the intel architecture software developers manual volume 3 system programming guide section handling self and crossmodifying code
in conjunction with the dr bits software should use biosconfigured acpi tables and factor in the connectable field of the usb port capabilities object when determining whether a port is removable
affected algorithms must ensure that appropriate tlb invalidation is done before assuming that future accesses do not use translations based on the old value of the paging structure entry
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
software should follow the same error recovery flow whenever an error status bit is set

the emmc driver should use high priority interrupt send_status mode per jedec standard emmc version 45 a minimum wait time of 128us between getting an error interrupt and issuing a software reset will avoid this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
to address this problem the sd card clock should be enableddisabled in conjunction with sd card power
a bios code change has been identified and may be implemented as a workaround for this erratum
a gpio pin must be implemented on the platform to control the sdio bus power gpio pin can be asserteddeasserted from asl methods in firmware
the sdio driver should either use sdio synchronous interrupt mode or enable sdio asynchronous interrupt mode after the sdio card signal voltage switch sequence completes
none identified an affected virtualmachine monitor could emulate delivery of the software interrupt before vm entry
none identified
use the ehci controller for legacy keyboard emulation that require legacy usb smi support by bios
bios and driver code changes have been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented to minimize the effect of this erratum the 3rd party codec driver should minimize hd audio device command traffic
none identified
none identified
for the erratum occurring during reset while the system is running a firmware code change has been identified which significantly reduces the likelihood of this erratum after the initial reset at power on
gpio drivers should not access gpio registers concurrently each driver should acquire a global lock before accessing the gpio register and then release the lock after the access is completed the intelprovided drivers implement this workaround
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified software must follow the recommendation that all interrupt sources that target an apic must be masked or changed to no longer target the apic and that any interrupts targeting the apic be quashed before the apic is disabled
none identified
a bios workaround has been identified
it is possible for the firmware to contain a workaround for this erratum
it is possible for the firmware to contain a workaround for this erratum

it is possible for firmware to contain processor configuration data and code changes as a workaround for this erratum
it is possible for the firmware to contain a workaround for this erratum
it is possible for the firmware to contain a workaround for this erratum
it is possible for the driver to contain a workaround for this erratum
none identified software can clear nsc nmi status and control msr bus 0 device 31 function 0 offset 61h sne field to disable serr for both nmi and lpc
none identified
do not access unimplemented isp mmio space
the rtit trace decoder can identify a fupfar in the middle of a far transfer instruction and treat that fupfar as if it was coming from the first byte of the following sequential instruction
none identified
none identified
the rtit trace decoder should ignore any fuptip packet that immediately follows a fupbuffovf whose ip matches the ip payload of the fupbuffovf
as a partial workaround the trace decoder should add 1 to the payload value of any cyc packet with a nonzero payload
the rtit trace decoder should ignore the first mtc that follows trace enabling
none identified
a 1ms delay is necessary following system software setting bit 11 host controller reset hcrst of the usb command register xhcibar80h
none identified
if the page fault handler inspects the arithmetic portion of the saved eflags value then system software should perform a synchronized paging structure modification and tlb invalidation
software should ensure that the memory type specified in the mtrrs is the same for the entire address range of the large page
do not use wb to wt aliasing
software that conforms to the intel 64 and ia32 architectures software developers manual volume 3a section buffering of write combining memory locations will operate correctly
erratum can be avoided by placing a guard page nonpresent or nonexecutable page as the last page of the segment or after the page that includes the code segment limit
none identified
none identified
software can avoid this erratum by not using rep stosmovs store operations within the monitored address range
none identified
none identified
avoid code that wraps around segment limit
this nonsynchronization can be avoided by issuing an apic register read after the apic register write this will force the store to the apic register before any subsequent instructions are executed no commercial operating system is known to be impacted by this erratum

software should avoid crossing page boundaries from wb or wc memory type to uc wp or wt memory type within a single rep movs or rep stos instruction that will execute with fast strings enabled
none identified
none identified
none identified
none identified
none identified
code which performs loads from memory that has sideeffects can effectively workaround this behavior by using simple integerbased load instructions when accessing sideeffect memory and by ensuring that all code is written such that a code segment limit violation cannot occur as a part of reading from sideeffect memory
none identified
smm software should not change the value of eflagsvm in smram
any vector programmed into an lvt entry must have an isr associated with it even if that vector was programmed as masked this isr routine must do an eoi to clear any unexpected interrupts that may occur the isr associated with the spurious vector does not generate an eoi therefore the spurious vector should not be used when writing the lvt

software exception handlers that rely on the ler msr value should read the ler msr before executing verwverrlsllar instructions
write to cr3 cr4 setting bits pse pge or pae or cr0 setting bits pg or pe registers before writing to memory early in bios code to clear all the global entries from tlb
in the acpios implement a workaround by temporarily disabling the dts threshold interrupt before updating the dts threshold value
software should ensure at least one of the following is true when modifying shared data by multiple agents
software should ensure that memory accesses in 32bit mode do not occur above the 4g limit 0ffffffffh
use an interrupt task gate for the machine check handler
software should use the recommended enumeration mechanism described in the architectural performance monitoring section of the intel 64 and ia32 architectures software developers manual volume 3 system programming guide
none identified
bios must leave the xtpr update transactions disabled default
if writing to ia32_fixed_ctr2 and using a noninteger coretobus ratio multiplier always write a zero
it is possible for bios to contain a workaround for this erratum
although it is possible to have a single physical page mapped by two different linear addresses with different memory types intel has strongly discouraged this practice as it may lead to undefined results software that needs to implement memory aliasing should manage the memory type consistency
software desiring strict ordering of stringfxsave operations relative to subsequent writeback stores should add an mfence or sfence instruction between the string fxsave operation and following storeorder sensitive code such as that used for synchronization
vmm software raising the value of the tprthreshold vmexecution control field should compare it to the tpr shadow if the threshold value is higher software should not perform a vm entry instead it could perform the actions that it would normally take in response to a vm exit with exit reason tpr below threshold
none identified intel does not support the use of cacheable and wc memory type aliasing and wc operations are defined as weakly ordered
vmm software that may respond to sipiinduced vm exits by resuming the interrupt guest context without emulating the nonvirtualized sipi response should 1 save from the vmcs using vmread the value of rip before any vm entry to the waitfor sipi state and 2 restore to the vmcs using vmwrite that value before the next vm entry that resumes the guest in any state other than waitforsipi
vmm software should configure the virtualmachine control structure vmcs so that vmentry failures do not occur
it is possible for the bios to contain a workaround for this erratum however streaming behavior may be reenabled by setting bit 5 to 1 of the msr at address 0x21 for software development or testing purposes if this bit is changed then a read modifywrite should be performed to preserve other bits of this msr when the streaming behavior is enabled and using streaming load instructions always consume a full cache line worth of data andor avoid mixing them with nonstreaming memory references if streaming loads are used to read partial cache lines and mixed with non streaming memory references use fences to isolate the streaming load operations from nonstreaming memory operations
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified

none identified
as recommended in the ia32 intel architecture software developers manual the use of mov sspop ss in conjunction with mov resp rebp will avoid the failure since the mov resp rebp will not generate a floating point exception developers of debug tools should be aware of the potential incorrect debug event signaling created by this erratum
vmm software should follow the guidelines given in the section handling vm exits due to exceptions of intel 64 and ia32 architectures software developers manual volume 3b system programming guide
an smm vmm should always set the ia32e guest vmentry control in the smm vmcs to be the value that was in the lma bit ia32_eferlmalmabit 10 in the ia32_efer msr c0000080h at the time of the last smm vm exit if this guideline is followed that value will be 1 only if the host addressspace size vmexit control is 1 in the executive vmcs
it is possible for the bios to contain a workaround for this erratum alternatively the following software workaround may be used if a vmm wants to use the freeze_while_smm feature it can configure an entry in the vmentry msrload area for the ia32_debugctl msr 1d9h the value in the entry should set the freeze_while_smm_en bit in addition the vmm should use vmwrite to clear the freeze_while_smm_en bit in the guest ia32_debugctl field before every vm entry it is necessary to do this before every vm entry because each vm exit will save that bit as 1 this workaround prevents the vmentry failure and sets the freeze_while_smm_en bit in the ia32_debugctl msr
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum

it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a partial workaround for this erratum that prevents xsave from setting headerxstate_bv reserved bits to ensure compatibility with future processors software should not set any xstate_bv reserved bits when configuring the header of the xsavexrstor save area
none identified
it is possible for the bios to contain a workaround for this erratum
software should not execute a floating point instruction directly after a mov ss or pop ss instruction
in order to avoid this erratum programmers should use the xmc synchronization algorithm as detailed in the intel architecture software developers manual volume 3 system programming guide section handling self and crossmodifying code
software should not set bit 7 in any pml4e or pdpte that has present bit bit 0 set to 1
none identified
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
software should avoid crossing page boundaries from wb or wc memory type to uc wp or wt memory type within a single rep movs or rep stos instruction that will execute with fast strings enabled
none identified
none identified
code which performs loads from memory that has sideeffects can effectively workaround this behavior by using simple integerbased load instructions when accessing sideeffect memory and by ensuring that all code is written such that a code segment limit violation cannot occur as a part of reading from sideeffect memory
in general operating systems do not set the gd bit when they are in v86 mode the gd bit is generally set and used by debuggers the debug exception handler should check that the exception did not occur in v86 mode before continuing if the exception did occur in v86 mode the exception may be directed to the generalprotection exception handler
none identified
none identified
none identified
none identified
software should ensure that memory accesses in 32bit mode do not occur above the 4g limit 0ffffffffh
none identified
none identified
none identified
none identified
software should never write to the address range armed by the monitor instruction between the monitor and the subsequent mwait
none identified
none identified
none identified
as recommended in the intel 64 and ia32 intel architectures software developers manual the use of mov sspop ss in conjunction with mov resp rebp will avoid the failure since the mov resp rebp will not generate a floating point exception developers of debug tools should be aware of the potential incorrect debug event signaling created by this erratum
none identified
none identified
none identified
none identified
none identified
any vector programmed into an lvt entry must have an isr associated with it even if that vector was programmed as masked this isr routine must do an eoi to clear any unexpected interrupts that may occur the isr associated with the spurious vector does not generate an eoi therefore the spurious vector should not be used when writing the lvt
none identified
none identified
software should ensure that the vmcs and referenced data structures are located at physical addresses that are mapped to wb memory type by the mtrrs
software should not execute a floating point instruction directly after a mov ss or pop ss instruction
as long as machine check exceptions are enabled the machine check exception handler can log the tlb error prior to core c6 entry this will ensure the error is logged before it is cleared
software should ensure pages are not being actively used before requesting their memory type be changed
software should not update the paging structures with a string instruction that accesses pages mapped the modified paging structures
none identified
none identified
none identified
none identified
none identified
none identified
none identified
none identified
only injecting errors to specific address should reduce the chance on being impacted by this erratum
none identified
use destination shorthand of 10b or 11b to send broadcast ipis
software handling a fault on an execution of fxrstor can compensate for execution variability by correcting the cause of the fault and executing fxrstor again
only use the value in bit 13 to determine the failing dimm id in the non3pdc configurations when mirroring is enabled this workaround will show correct results for both the 1dpc and 2dpc configurations

code pages should not be mapped with uncacheable and cacheable memory types at the same time
before programming the performance event select registers ia32_perfevtselx msr 186h  189h the internal monitoring hardware must be cleared this is accomplished by first disabling saving valid events and clearing from the select registers then programming three event values 0x4300d2 0x4300b1 and 0x4300b5 into the ia32_perfevtselx msrs and finally continuing with new event programming and restoring previous programming if necessary each performance counter ia32_pmcx must have its corresponding ia32_prefevtselx msr programmed with at least one of the event values and must be enabled in ia32_perf_global_ctrl msr 38fh bits 30 all three values must be written to either the same or different ia32_perfevtselx msrs before programming the performance counters note that the performance counter will not increment when its ia32_perfevtselx msr has a value of 0x4300d2 0x4300b1 or 0x4300b5 because those values have a zero umask field bits 158

ensure that peci commands are not executed while using jtag

if the handler of the affected events inspects the arithmetic portion of the saved eflags value then system software should perform a synchronized paging structure modification and tlb invalidation
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for intel provided bios reference code to contain a workaround for this erratum please refer to the latest version of the bios memory reference code and release notes
none identified
none identified
none identified
none identified
software should not set bit 7 in any pml4e or pdpte that has present bit bit 0 set to 1
it is possible for the bios to contain a workaround for this erratum
if necessary software may save the value in eax prior to launching into the secure environment and restore upon wakeup andor clear eax after the initsipi sequence

none identified

none identified
ensure that the processor has completed its poweron reset cycle prior to initiating a second reset
disable the freeze_perfmon_on_pmi feature in ia32_debugctl msr 1d9h bit12
virtualmachine monitor software may decode the instruction to determine operand size
none identified
none identified
to workaround this erratum the peci host should pull the peci bus low to initiate a peci transaction
none identified
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
software should reprogram the divide configuration register only when the apic timer interrupt is disarmed
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
if the fp data operand pointer is used in a 64bit operating system which may run code accessing 32bit addresses care must be taken to ensure that no 80bit fp accesses are wrapped around a 4gbyte boundary
if the fp data operand pointer is used in an operating system which may run 16bit fp code care must be taken to ensure that no 80bit fp access are wrapped around a 64 kbyte boundary
it is possible of the bios to contain a workaround for this erratum to be used in conjunction with a bios modification
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the intel provided memory reference code to contain a workaround for this erratum the workaround disables write major mode when demand andor patrol scrub are enabled which eliminates the potential for this erratum to occur
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
vmms virtualmachine monitors should ensure that cr0cd is clear on all logical processors of a core before entering vmx operation on any logical processor software should not set cr0cd on a logical processor if any logical processor of the same core is in vmx operation vmm software should prevent guest software from setting cr0cd by setting bit 30 in the cr0 guesthost mask field in every vmcs

software using smm transfer monitor should insure that the dtlb is flushed prior to parallel entries and exits
a vm monitor that wants the fixedfunction performance counters to be enabled after a vm exit may do one of two things 1 clear the load ia32_perf_global_ctrl vm exit control or 2 include an entry for the ia32_perf_global_ctrl msr in the vm exit msrload list
when using vmwrite to write to a field in the gueststate area software should ensure that the value written is consistent with the state of other gueststate fields
it is possible for the bios to contain a workaround for this erratum please refer to  intel xeon processor 5600 series microcode update guide for further details
it is possible for bios to contain a workaround for this erratum
software may avoid this erratum by clearing the perfmon counter value prior to disabling it and then clearing the overflow status indication bit
system software can be constructed to tolerate these unexpected page faults see section propagation of pagingstructure changes to multiple processors of volume 3a of ia32 intel architecture software developers manual for recommendations for software treatment of asynchronous pagingstructure updates
none identified
none identified
none identified

none identified
software should ensure that cr4mce is set whenever ia32_debugctl msr 60eh tr bit 6 is set
operating system code should ensure that segment selectors used during task switches to the gdt specify offsets within the limit of the gdt and that the gdt is fully paged into memory
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
software can avoid this by
before performing a vm entry to the shutdown state software should check whether the virtual nmis and nmiwindow exiting vmexecution controls are both 1 if they are software should clear nmiwindow exiting and inject an nmi as part of vm entry
none identified
none identified
software may avoid this erratum by clearing the perfmon counter value prior to disabling it and then clearing the overflow status indication bit
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum

none identified
it is possible for the bios to contain a workaround for this erratum
software should avoid crossing page boundaries from wb or wc memory type to uc wp or wt memory type within a single rep movs or rep stos instruction that will execute with fast strings enabled
algorithms that rely on cache disabling should not be executed in vmx root operation
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
software requiring the page offset of the original memory access address can derive it by simulating the effective address computation of the instruction that caused the ept violation
none identified
software that has executed in 64bit mode should reload cr3 with a 32bit value before returning to 32bit paging
none identified
software should not modify bit 12 of svr while servicing a leveltriggered interrupt
the smm handler has to evaluate the saved context to determine if the smi was triggered by an instruction that read from an io port the smm handler must not restart an io instruction if the platform has not been configured to generate a synchronous smi for the recorded io port address
a virtualmachine monitor should not allow guest software to write to the ia32_misc_enable msr
uniprocessor configurations are unaffected by this erratum if the platform is changed to a uniprocessor configuration txterrorcode will be reported accurately
none identified
if reset is asserted to both the processor and the ioh exposure to this erratum does not exist
bios can set tpm locality 0 to active after scheck if necessary
none identified
none identified
none identified
none identified
uniprocessor configurations are unaffected by this erratum if the platform is changed to a uniprocessor configuration tpm locality 3 will not be activated on exit to bios
software should ensure that the vmcs and referenced data structures are located at physical addresses that are mapped to wb memory type by the mtrrs
software should always set the vvvv field of the vex prefix to 1111b for instances of the vaesimc and vaeskeygenassist instructions
none identified
a virtualmachine monitor should not allow guest software to write to the ia32_misc_enable msr
ensure that the smram statesave area is located entirely below the 4gb address boundary
none identified
none identified
avoid following a mov ss or pop ss instruction immediately with an xbegin instruction
software should use the opcode bytes f3 0f bc only if cpuideax07h ecx0ebxbmi1 bit 3 is 1 and only if the functionality of tzcnt and not bsf is desired
none identified
none identified if smsw execution inside an enclave is unacceptable system software should not enable intel sgx
instruction prefixes have no architecturallydefined function for the wrmsr instruction instruction prefixes should not be used with the wrmsr instruction
the intel pt trace decoder can compare direct unconditional branch targets in the source with the filteren address ranges to determine which branch cleared filteren
do not use a 66h instruction prefix with a 64bit operand movbe instruction
software should not use fxsave or fxrstor with the vex prefix
none identified
software should avoid using wrmsr instruction immediately after executing mov ss or pop ss
it is possible for the bios to contain a workaround for this erratum
decoders should ignore fup and modeexec packets that are not between tippge and
it is possible for the bios to contain a workaround for this erratum
none identified intel pt topa should reside in wb memory and should not be written within a transactional region
the intel pt trace decoder may opt to ignore any fup whose ip matches that of a vm entry instruction
data from the affected machine check registers should be read and the registers initialized as soon as practical after a warm reset
it is possible for the bios to contain a workaround for this erratum
when executing the encluegetkey instruction software should ensure the bits set in keyrequestmiscmask are a subset of the bits set in the current secs miscselect field
none identified
when executing the encluereport instruction software should ensure the bits set in targetinfomiscselect are a subset of the bits set in the current secs miscselect field
software should not configure vmx transitions to load nonexistent msrs
64bit software should save x87 fpu state before leaving 64bit mode
when it encounters an ovf without a following fup or tippge the intel pt trace decoder should scan for the next tip tippge or psb to resume operation
system software should always specify a canonical address as the base address of the 64bit mode enclave
it is possible for the bios to contain a workaround for this erratum
none identified instead of marking a context not present software should mark the context or extendedcontext entry present while using the page table to indicate all the memory pages referenced by the context entry is not present
none identified
it is possible for the bios to contain a partial workaround for this erratum software should wait at least 5ms following link equalization before accessing these expansion rom base address register
it is possible for the bios to contain a workaround for this erratum
use a single vendor for and do not mix single rank and dual rank 2133 mhz ddr4 sodimm
when executing the enclseinit instruction software should only set bits in the miscselect field in the sigstruct structure that are enumerated as 1 by cpuideax12hecx0ebx the bit vector of extended features that can be written to the misc region of the ssa
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
if supervisor software is not expected to execute instructions on usermode pages software can avoid this erratum by setting cr4smepbit 20 to enable supervisor mode execution prevention smep if smep is not available or if supervisor software is expected to execute instructions on usermode pages no workaround is identified
none identified
it is possible for the bios to contain a workaround for this erratum
none identified the decoder may be able to recognize that this erratum has occurred when a twobyte cyc packet is followed by a single byte cyc where the latter 2 bytes are 0xf302 and where the cyc packets are followed by a fup flow update packet and a psb packet stream boundary it should then treat the two cyc packets as indicating an overflow
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
software should not rely on encluegetkey to produce different keys by supplying different miscmask values software should use other keyrequest fields to produce separation of the keys
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified software may use the following offcore_requests modelspecific sub events that provide related performance monitoring data demand_data_rd demand_code_rd demand_rfo all_data_rd l3_miss_demand_data_rd all_requests
software should ensure that all pages containing enclave instructions have valid epcm entries
none identified
a vmm avoids this erratum if it does not map any part of the epc enclave page cache to the guests apicaccess address an operating system avoids this erratum if it does not attempt indirect enclave accesses to the apic
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified software should use the fdp value saved by the listed instructions only when the most recent noncontrol x87 instruction incurred an unmasked exception
none identified platforms should limit peci operating frequency to 1 mhz
none identified software may mask the fault reporting event by setting the im interrupt mask field in the iommu fault event control register offset 038h in gfxvtbar
it is possible for the bios to contain a workaround for this erratum for systems that do not power gate vcc sustain if the workaround detects this erratum support for intel sgx will be removed until platform power is disconnected and reapplied
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified software should not use value of 13 for cyc threshold
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the graphics driver to contain a workaround for this erratum this workaround will disable fbc
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
intel graphics driver 1540114308 or later will prevent the integrated audio codec from losing power when lpsp mode is enabled
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
none identified
none identified
none identified software may use the following modelspecific events that provide related performance monitoring data offcore_requests all subevents l2_transl2_wb and l2_rqstspf_miss
it is possible for the bios to contain a workaround for this erratum
none identified
intel graphics driver version 1540124326 or later contains a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum a software workaround is possible through disallowing pebs during vmx nonroot operation and disabling pebs prior to vm entry
none identified
before using the eblock instruction to marking a page as blocked software should mark the page not present
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified software that relies on a locked instruction to fence subsequent executions of vmovntdqa should insert an mfence instruction between the locked instruction and subsequent vmovntdqa instruction
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
mctp devices should not use a tag of 0x5 when performing mctp enumeration
pmi handler software can programmatically stop performance monitoring counters upon entry
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
clearing the guaranteed_performance_change status bit no more than once per second will ensure that interrupts are not generated at too fast a rate
it is possible for the bios to contain a workaround for this erratum
software should always prevent faults on pebs or bts
none identified
it is possible for the bios to contain a workaround for this erratum
software should configure hwp consistently on all logical processors of a core
the camera device must disable legacy intx by setting bit 10 of pcicmd bus 0
software can monitor gp faults to detect that an enclave has been destroyed and needs to be rebuilt after resuming from s3 or s4
it is possible for the bios to contain a workaround for this erratum
none identified
ensure that the smram statesave area is located entirely below the 4gb address boundary
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
software should use canonical addresses for bound directory accesses
none identified
none identified
ensure that bits 115 of the value written to ia32_rtit_cr3_match are zero including cases where the selected pagedirectorypointertable base address has non zero bits in this range
it is possible for the bios to contain a workaround for this erratum
none identified software should not attempt to write illegal values to this msr
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified software should ignore the shared 2ndlevel tlb associativity information reported by cpuid for the affected processors
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
this erratum can be worked around by intel graphics driver revisions of 15464644749 or later
none identified
platforms should not map mmio memory space or noncoherent device memory space as wb memory if wb is used for mmio range software or vmm should not map such
none identified
as recommended in the ia32 intel architecture software developers manual the use of mov sspop ss in conjunction with mov resp rebp will avoid the failure since the mov resp rebp will not generate a floating point exception developers of debug tools should be aware of the potential incorrect debug event signaling created by this erratum
none identified
none identified
software should not execute a floating point instruction directly after a mov ss or pop ss instruction
software should ensure pages are not being actively used before requesting their memory type be changed
none identified
none identified
none identified
none identified
if the handler of the affected events inspects the arithmetic portion of the saved eflags value then system software should perform a synchronized paging structure modification and tlb invalidation
none identified
none identified
none identified
none identified
none identified
the smm handler has to evaluate the saved context to determine if the smi was triggered by an instruction that read from an io port the smm handler must not restart an io instruction if the platform has not been configured to generate a synchronous smi for the recorded io port address
none identified
none identified
none identified
in general operating systems do not set the gd bit when they are in v86 mode the gd bit is generally set and used by debuggers the debug exception handler should check that the exception did not occur in v86 mode before continuing if the exception did occur in v86 mode the exception may be directed to the generalprotection exception handler
none identified
software should avoid crossing page boundaries from wb or wc memory type to uc wp or wt memory type within a single rep movs or rep stos instruction that will execute with fast strings enabled
software should ensure that the vmcs and referenced data structures are located at physical addresses that are mapped to wb memory type by the mtrrs
none identified
none identified
none identified
none identified
none identified
sw should not use vphminposuw with vexvvvv  1111 in order to ensure future compatibility

software should avoid accessing unsupported fields in a vmcs
compilers should encode vexw  0 for the vzeroall and vzeroupper instructions
software should not use opcode 9bh with the vex opcode extension
system software can be constructed to tolerate these unexpected page faults see section propagation of pagingstructure changes to multiple processors of volume 3a of ia32 intel architecture software developers manual for recommendations for software treatment of asynchronous pagingstructure updates
software should not use fxsave or fxrstor with the vex prefix
software should encode vexw  0 for executions of the vpextrd and vpinsrd instructions outside 64bit mode
none identified
none identified

none identified
if poisoning is disabled program the following bits to 0 after reset if poisoning is enabled program the following bits to 1 after reset
it is possible for the bios to contain a workaround for this erratum
software that uses the localapic timer must be prepared to handle the timer interrupts even those that would not be expected based on reading ccr and the lvt and irr bits alternatively software can avoid the problem by writing zero to the initial count register before reading the lvt and irr bits
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
case 1 systems with a bmc
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
none identified
none identified
the crc mode bits in the qpilcl devices 8 9 function 0 offset 44h bits1514 should be left at their reset value of 00b to ensure 8bit crc is selected
peci 30 host devices should zero out the byte that contains the host id and retry bit information for all peci requests at all times including retries
none identified
is possible for the bios to contain a workaround for this erratum a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
it is possible for bios to contain a workaround for this issue it should be noted that with this workaround if the threshold is programmed to a value of 0 a read of the value will return 1 and the threshold will be 1 all other valid threshold values for the bank will be read back correctly and function as expected
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified software can avoid this erratum by setting corrected error threshold to a value less than 3fffh enable cmci and clearing the error count before it exceeds 3fffh
system software can be constructed to tolerate these unexpected page faults see section propagation of pagingstructure changes to multiple processors of volume 3a of ia32 intel architecture software developers manual for recommendations for software treatment of asynchronous pagingstructure updates
a bios code change has been identified and may be implemented as a workaround for this erratum

none identified
it is possible for the bios to contain a workaround for this erratum
if using dma xor operations disable dca by clearing chanctrl completion_write_dca_enable offset 80h bit 9 in the region described by cb_bar device 10 function 07 0ffset 80h
in the dma driver each dma xor descriptor must be followed by an additional legacy descriptor the legacy descriptor must have a nonzero transfer length and the null transfer bit and completion interrupt in the descriptor control field set to 1 the transfer will not actually occur but a completion interrupt will be generated that indicates that the xor operation has completed this causes all completion interrupts to be of the legacy type
at all times software must place a validaligned address in both the p parity address field and the q parity address field of a dma xor with galois field generatevalidate base descriptor even if the p operations disable or q operations disable descriptor fields are set to disable either p or q operations for the descriptor

software must quiesce the dma function before issuing flr including
software may either
at least one xor descriptor with no read data errors has to be processed for a new chain of xor descriptors to work correctly with the corresponding chanerrmsk offset ach bit 8 bit set upon detection of a read data error software must clear the chanerr and chanerr_int device 4 function 07 offset 180h registers and disable the corresponding error mask bit by setting chanerrmsk then new descriptors can be added to the chain and the dma started by writing the dmacount offset 86h once the dma channel is in the running state software can clear the chanerrmsk chanerr chanerrmsk and dmacount are offsets relative to cb_bar device 4 function 07 0ffset 10h on the processors internal io bus as defined in the iiobusno register
software must guarantee that the first descriptor processed on restart is an xor gf multiply generation base type before using legacy descriptors with interrupts and completions
software must either
software must suspend all legacy dma channels before suspending an active dma xor channel channel 0 or 1
do not enable fencing on xor descriptors fencing can be enabled on legacy descriptors it is recommended that a null legacy descriptor must be paired with each xor descriptor software can use fencing of the legacy null descriptor to track full completion of its associated xor descriptor
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
if operating without queued invalidations interrupt remapping and x2apic features is feasible then intel vtd invalidations should be performed using the intel vtd register facility cf vtd0_ctxcmd offset 028h vtd1_ctxcmd offset 1028h vtd0_invaddrreg offset 0200h and vtd0_iotlbinv offset 0208h vtd1_invaddrreg offset 1200h and vtd1_iotlbinv offset 1208h in the intel vt d register region with a base address specified through the vtbar register at 050 offset 0180h
none identified
if the fp data operand pointer is used in a 64bit operating system which may run code accessing 32bit addresses care must be taken to ensure that no 80bit fp accesses are wrapped around a 4gbyte boundary
software should always set the vvvv field of the vex prefix to 1111b for instances of the vaesimc and vaeskeygenassist instructions
it is possible for the bios to contain a workaround for this erratum
software can disable all breakpoints by clearing dr7 alternatively software can ensure that for a breakpoint disabled in dr7 the corresponding debugaddress register contains an address that prevents the breakpoint condition from being met for example a noncanonical address
none identified
processor thermal management solutions utilizing peci should operate platform fans at full speed during the peci dnr phase
it is possible for the bios to contain a workaround for this erratum

it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum


it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
in ntbntb backtoback mode do not use the b2bdoorbell to send interrupts from the local to remote host instead configure one of the following local register pairs to point to the remote sb01base region
software should not program another pebs event in conjunction with the pdir mechanism
it is possible for the bios to contain a workaround for this erratum
avoid the contributing conditions this can be accomplished by separating traffic types to be conveyed on different links andor reducing or eliminating long latency transactions
mask off the c2 c3 da and db error flags bit 3 bit 4 bit 13 and bit 14 of the irpp0errctl and irpp1errctl registers at cpubus0 device 5 function 2 offsets 234h and 2b4h respectively
none identified
none identified
a bios change has been identified and may be implemented as a workaround for this erratum
none identified
patrol scrub should not be enabled when more than one channel has suffered a rank sparing event this can be accomplished during the bios initialization phase by either
it is possible for the bios to contain a workaround for this erratum
none identified
software must either
a bios code change has been identified and may be implemented as a workaround for this erratum

acpi or other software must have a timeout to proceed with the power management event and should not wait indefinitely for the ntb to acknowledge the pme_turn_off request
it is possible for the bios to contain a workaround for this erratum
peci hosts should retry timedout commands until they complete successfully by reissuing a peci command sequence identical to the originally timedout command
the sampling driver should avoid using sav100
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum

a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum

it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified

it is possible for the bios to contain processor configuration data and code changes as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
stm software should execute the xrstor instruction with the value 0 in edxeax after each transition into the stm after setting cr4osxsave and before each transition out of the stm bytes 512 to 575 of the save area used by xrstor should be allocated in memory but bytes 0 to 511 need not be bytes 512 to 535 should all be 0
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum

the link speed and training must be managed by the upstream host in ntbntb or ntbrp configurations
a bios code change has been identified and may be implemented as a workaround for this erratum
software should ignore the value of the link_bandwidth_notification_capability field for ports 2c 2d 3c and 3d
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum this is a partial workaround that causes the system to power cycle eliminating the need for manual power on the ia32_mci_status register contents are still lost
when configuring devices on pcipcix buses bios should wait for configuration cycles to complete before issuing subsequent configuration cycles
software that performs enumeration via the peci rdpciconfiglocal command should interpret 0ffff_ffffh and 0000_0000h values for the vendor identification and device identification register as indicating a nonexistent device
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
next sourcedestination addresses must be page aligned the intelprovided intel quickdata technology dma driver abides by this alignment rule
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
it is possible for bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
none identified
none identified software may ignore or reinterpret the incorrect encoding for this processor
it is possible for the bios to contain a workaround for this erratum

it is possible for bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified when rol transactions and nonrol transactions are simultaneously active all nonrol address offsets must be aligned on cacheline boundaries further marker skipping operations may not be used on any dma channel when rol transactions are active
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified perform a secondary bus reset on the link up to three times to achieve full width
none identified bios and the os have other means to specify package cstate exit latency maximums which is the typical use model for setting pcie snoop latency limits
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
it is possible for bios to contain processor configuration data and code changes as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified the os can mask these interrupts by setting the power limit interrupt enable field bit 24 in the ia32_therm_interrupt msr 19bh to 0
a bios code change has been identified and may be implemented as a workaround for this erratum
once the first nonzero value is detected the difference between subsequent sequential values is a reliable measure of energy consumed between the sample points
none identified software running on one of the cores can clear the ia32_mc4_status register to restore peci functionality
it is possible for the bios to contain a workaround for this erratum
due to this erratum the address with poisoned data may not be correctly logged in the ia32_mci_addr msr
a bios code change has been identified and may be implemented as a workaround for this erratum
check the dma_trans_state chansts_0 bus 0 mmio bar cb_bar 07 offset 88h bits20 to ensure the channel state is either idle 001b or active 000b before setting susp_dma chancmd bus 0 mmio bar cb_bar 07 offset 84h bit 2
it is possible for the bios to contain a workaround for this erratum
software must suspend all legacy dma channels before suspending an active dma xor channel channel 0 or 1

a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
ensure all raid descriptors chancmp_0 and chancmp_1 addresses are within the 48bit range before starting the dma engine
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified

none identified
it is possible for bios to contain a workaround for this erratum
none identified
none identified
platforms must ensure that tph and address translation requests are not used in the same tlp the most direct means is to disable tph in a pcie device that may request an address translation this can be accomplished by ensuring that tph requester control register at offset 08h in the devices tph requester capability structure bits 98 are zero
it is possible for the bios to contain a workaround for this erratum
none identified the system agent temperature is available via peci rdpkgconfig command service parameter value 00ffh
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified to avoid this erratum 1 ensure nonraid operations do not receive any master aborts errors 2 do not request fencing by asserting bit 4 or interrupt on completion by asserting bit 0 in the descriptor control field or 3 do not use raid operations
none identified
software should avoid locating paging structures at addresses in uncacheable memory that are used for memorymapped io
do not enable fencing bit 4 or interrupt completion bit 0 in the descriptor control field
none identified do not use floatingpoint stores to modify code
none identified
none identified

none identified
none identified
none identified
none identified
software that has executed in 64bit mode should reload cr3 with a 32bit value before returning to 32bit paging
software requiring the page offset of the original memory access address can derive it by simulating the effective address computation of the instruction that caused the ept violation
it is possible for the bios to contain a workaround for this erratum
none identified
a virtualmachine monitor should not allow guest software to write to the ia32_misc_enable msr
none identified
none identified
if port 3a is configured as an ntb then devices requiring eoi messages those using message signaled interrupts and those with their own io apic must not be connected to port 2a

none identified
none identified
none identified
none identified

none identified software that relies on a locked instruction to fence subsequent executions of vmovntdqa should insert an mfence instruction between the locked instruction and subsequent vmovntdqa instruction
none

for the affected revision see the bios acm and sinit acm errata summary tabletpm policy record with io read is not affected by this erratum
intel txt policy record with io read is not affected by this erratum
implement a fit type 10 record to ensure that intel txt is properly enabled or disabled
none identified
none identified
none identified
none
none
none
bios implementations can implement both the 32bit rsdt table and the 64bit xsdt table
bios should avoid overlap when programming the intel quickdata technology base address registers
tpm localities 0  3 should be inactive at intel txt software launch
it is possible for a bios update and an updated sinit acm to be used as a workaround for this erratum previous sinit acm releases will no longer function with the bios update
a virtualmachine monitor should not allow guest software to write to the ia32_misc_enable msr
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
consecutively write the identified registers twice with the same value before performance monitoring is globally enabled
ppd is not supported use active power down apd mode only
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified a bios code change has been identified and may be implemented to avoid this erratum
it is possible for the bios to contain a workaround for this erratum
none identified the en field bit 31 of erf_ddr4_cmd_reg40 csrs bus 1 device 20212324 function 01 offset 0x24c 0x250 0x254 0x258 0x26c must not be set preventing access to error information
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for software to implement a onesecond timeout in lieu of receiving a command completed event
none identified local p2p traffic should not be used to or from x4 pcie ports
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a partial workaround for this erratum the workaround does not address the potential dropped ucna machine check
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
software that needs to access these capabilities must take this erratum into account
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
none identified
ensure there is at least 30s of delay between injections
it is possible for the bios to contain a workaround for this erratum
none identified for an optimal processor power configuration unused pcie ports should remain enabled
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum alternatively split bar mode can be used to send interrupts between ntb connected systems intel has released a new version of its ntb driver that offers support for splitbar mode
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified please refer to latest revision of grantleyep platform reference codea bios code change has been identified and may be implemented as a workaround for this erratum
none identified
none identified use aligned fullwidth dword 32bit readmodifywrite sequencing to change a portion or portions of the registers listed
ensure xor dma descriptor source addresses targets valid dram memory locations
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
do not use a 66h instruction prefix with a 64bit operand movbe instruction
all peci rdiamsr accesses should be delayed until the cpu microcode update revision is nonzero cpu microcode update revision can be accessed by peci rdpkgconfig with index0 and parameter4
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for bios to contain processor configuration data and code changes as a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
an external agent that is able to issue peci commands must not issue peci commands during the interval from warm reset request to reset deassertion
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for bios to contain a workaround for this erratum
none identified
none identified
none identified set all three configuration bits l3_miss_remote_hop0 l3_miss_remote_hop1 l3_miss_remote_hop2p to obtain the total count of data supplied by remote agents
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified software can execute an mfence instruction immediately prior to the iret instruction if serialization is needed
it is possible for the bios to contain a workaround for this erratum
none identified the home agent error registers and correctable error count registers bus 1 device 20 function 2 offset 104110 provides accurate error information
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum a software workaround is possible through disallowing pebs during vmx nonroot operation and disabling pebs prior to vm entry
none identified software that relies on a locked instruction to fence subsequent executions of vmovntdqa should insert an mfence instruction between the locked instruction and subsequent vmovntdqa instruction
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
before writing msr_lastbranch_x_from_ip ensure the value being written has bit47 replicated in bits6261 this is most easily accomplished by sign extending from bit47 to bits6248
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum

it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum

none identified
if the handler of the affected events inspects the arithmetic portion of the saved eflags value then system software should perform a synchronized paging structure modification and tlb invalidation
none identified
none identified
none identified
none identified
none identified
the sampling driver should avoid using sav100
software should not write to a pagingstructure entry in a way that would change for any linear address both the page size and the memory type it can instead use the following algorithm first clear the p flag in the relevant pagingstructure entry for example pde then invalidate any translations for the affected linear addresses and then modify the relevant pagingstructure entry to set the p flag and establish the new page size and memory type
software should always set the vvvv field of the vex prefix to 1111b for instances of the vaesimc and vaeskeygenassist instructions
software that uses the localapic timer must be prepared to handle the timer interrupts even those that would not be expected based on reading ccr and the lvt and irr bits alternatively software can avoid the problem by writing zero to the initial count register before reading the lvt and irr bits

none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified


software should not use fxsave or fxrstor with the vex prefix
a virtualmachine monitor should not allow guest software to write to the ia32_misc_enable msr
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
initialize or reset the counters such that lower 6 bits are 0
it is possible for the bios to contain a workaround for this erratum
the processor inserts these packets as status packets in the psb block the decoder may have to skip forward to the next psb block in the trace to obtain the proper updated information to continue decoding
none identified
none identified
none identified
it is possible for bios to contain a workaround for this erratum
software must ensure posted interrupt address bits 63haw in the irte are zero
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified bios should not enable acc
the home agent error registers and correctable error count registers bus 1 device 20 function 2 offset 104110 provides accurate error information
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified

it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum a software workaround is possible through disallowing pebs during vmx nonroot operation and disabling pebs prior to vm entry

it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified to access the pmlindex field stm software should first load the currentvmcs pointer with a pointer to the executive vmcs
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum

it is possible for the bios to contain a workaround for this erratum
single ha platforms should use open loop thermal throttling for dimm temperature control use mem_hot_c01_n as a proxy for mem_hot_c23_n or have the bmc or other external agent periodically read the dimm temperature via peci then use the
a bios code change has been identified and may be implemented as a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
before writing msr_lastbranch_x_from_ip ensure the value being written has bit47 replicated in bits6261 this is most easily accomplished by sign extending from bit47 to bits6248
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
consecutively write the identified registers twice with the same value before performance monitoring is globally enabled
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for software to implement a onesecond timeout in lieu of receiving a command completed event
none identified local p2p traffic should not be used to or from x4 pcie ports
it is possible for the bios to contain a partial workaround for this erratum the workaround does not address the potential dropped ucna machine check
a bios code change has been identified and may be implemented as a workaround for this erratum
software that needs to access these capabilities must take this erratum into account
none identified
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
ensure there is at least 30 s of delay between injections
it is possible for the bios to contain a workaround for this erratum
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
ensure xor dma descriptor source addresses targets valid dram memory locations
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
software should ignore read values returned from this register field
it is possible for bios to contain processor configuration data and code changes as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified set all three configuration bits l3_miss_remote_hop0 l3_miss_remote_hop1 l3_miss_remote_hop2p to obtain the total count of data supplied by remote agents
none identified
software should not enter a guest with enable vpid set to 1 when activate secondary controls is set to 0
none identified software can execute an mfence instruction immediately prior to the iret instruction if serialization is needed
it is possible for the bios to contain a workaround for this erratum
none identified platforms should limit peci operating frequency to 1 mhz
none identified
none identified
a bios code change has been identified and may be implemented as a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum a software workaround is possible through disallowing pebs during vmx nonroot operation and disabling pebs prior to vm entry
none identified
none identified
none identified
none identified
none identified
none identified
software should not write uc errors into ia32_mc1_status with ia32_mc1_statusmiscv0 software may write ia32_mc1_misc0 to indicate no valid data in ia32_mc1_misc
none identified
software should always prevent faults on pebs or bts
it is possible for the bios to contain a workaround for this erratum
none identified software that relies on a locked instruction to fence subsequent executions of vmovntdqa should insert an mfence instruction between the locked instruction and subsequent vmovntdqa instruction
none identified
none identified
none identified
before writing msr_lastbranch_x_from_ip ensure the value being written has bit47 replicated in bits6261 this is most easily accomplished by sign extending from bit47 to bits6248
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
if the handler of the affected events inspects the arithmetic portion of the saved eflags value then system software should perform a synchronized paging structure modification and tlb invalidation
none identified
none identified
do not execute monitor or clflush instructions on the local xapic address space
none identified
none identified
none identified
the sampling driver should avoid using sav100
algorithms that rely on cache disabling should not be executed in vmx root operation
software should not write to a pagingstructure entry in a way that would change for any linear address both the page size and the memory type it can instead use the following algorithm first clear the p flag in the relevant pagingstructure entry for example pde then invalidate any translations for the affected linear addresses and then modify the relevant pagingstructure entry to set the p flag and establish the new page size and memory type
software should always set the vvvv field of the vex prefix to 1111b for instances of the vaesimc and vaeskeygenassist instructions
software that uses the localapic timer must be prepared to handle the timer interrupts even those that would not be expected based on reading ccr and the lvt and irr bits alternatively software can avoid the problem by writing zero to the initial count register before reading the lvt and irr bits
none identified
none identified
software should ensure that the vexl bit is set to 0 for all scalar instructions
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
none identified
none identified if the pmi is programmed to generate an nmi software may delay the
software should not use fxsave or fxrstor with the vex prefix
a virtualmachine monitor should not allow guest software to write to the ia32_misc_enable msr
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
it is possible for the bios to contain a workaround for this erratum
initialize or reset the counters such that lower 6 bits are 0
it is possible for the bios to contain a workaround for this erratum
the processor inserts these packets as status packets in the psb block the decoder may have to skip forward to the next psb block in the trace to obtain the proper updated information to continue decoding
none identified
none identified
none identified
it is possible for bios to contain a workaround for this erratum
none identified processor core ratio changes may be disabled to avoid this erratum
software must ensure posted interrupt address bits 63haw in the irte are zero
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified bios should not enable acc
the home agent error registers and correctable error count registers bus 1 device 20 function 2 offset 104110 provides accurate error information
due to this erratum certain performance monitoring event may produce unreliable results when smt is enabled
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified

it is possible for the bios to contain a workaround for this erratum
none identified
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
software should always prevent faults on pebs or bts
it is possible for the bios to contain a workaround for this problem
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified to access the pmlindex field stm software should first load the currentvmcs pointer with a pointer to the executive vmcs
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
none identified
none identified
none identified
none identified
before writing msr_lastbranch_x_from_ip ensure the value being written has bit47 replicated in bits6261 this is most easily accomplished by sign extending from bit47 to bits6248
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
set pcie ctos to 100ms or greater if in a vulnerable configuration
none
none
none
sw or fw polling dimmtempstat_20 and alldimmtempstat should take this behavior into account
clear ev_asrt_temp fields as soon as possible after reading them log all bits on a read of the ev_asrt_temp fields
it is possible for the bios to contain a workaround for this erratum
none identified software that relies on a locked instruction to fence subsequent executions of vmovntdqa should insert an mfence instruction between the locked instruction and subsequent vmovntdqa instruction
none identified
do not issue cacheable mmio request during smm mode
none identified
use the results of the no_alloc_cycles performance monitoring event only when running the workload on logical processors 0 andor 1
operating systems can take steps to ensure they are not exposed to this erratum
bios should disable relaxed ordering for inbound transactions
do not use cltt peci passthrough mode for ddr throttling
none identified
none identified
in order to avoid this erratum programmers should use the xmc synchronization algorithm as detailed in the intel architecture software developers manual volume 3 system programming guide section handling self and crossmodifying code
none identified
none identified
use only gp counter 0 or fixed counter 1 for unhalted core cycles
avoid using 7 or more prefixes on an instruction if limiting the number of prefixes is not feasible then marking mmio memory mapped io as xd execute disable in the page tables will prevent speculative reads from uc mmio
none identified
a bios workaround has been identified contact intel representative for more information
none identified
none identified
it is possible for bios to contain processor configuration data and code changes as a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
it is possible for the bios to contain a workaround for this erratum
this address range inclusively between tohm and 245  1 should be marked as not present in page or ept tables and not used alternatively msr_misc_feature_controll1_data_prefetch_disable msr 01a4h bit 0
it is possible for bios to contain a workaround for this erratum
it is possible for bios to contain a partial mitigation for this erratum that enables peci access to change the unlocked portions of smbcntl_0 and smbcntl_1
it is possible for the bios to contain a workaround for this erratum
it is possible for bios to contain a workaround for this erratum
it is possible for bios to contain code changes to work around this erratum
it is possible for the bios to contain a workaround for this erratum implementing this workaround will cause signaling of ierr instead of mcerr when this uncorrectable error occurs there may be an increased delay in error reporting
it is possible for the bios to contain a workaround for this erratum implementing this workaround will cause signaling of ierr when this uncorrectable error type occurs in addition to the machine check exception there may be an increased delay in error reporting
it is possible for the bios to contain a workaround for this erratum implementing this workaround will cause signaling of ierr instead of mcerr when this uncorrectable error occurs there may be an increased delay in error reporting
it is possible for bios to contain processor configuration data and code changes as a workaround for this erratum
it is possible for bios to contain a workaround for this erratum
bios code change has been identified and may be implemented as a workaround for this erratum
